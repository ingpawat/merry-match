<!DOCTYPE html>
<!-- saved from url=(0111)https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#748b1a9ac3d044e1a4166514ecaa10c0 -->
<html class="notion-html"><head lang="en"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover"><title>JSON Web Token (JWT)</title><meta name="description" content="A new tool that blends your everyday work apps into one. It&#39;s the all-in-one workspace for you and your team"><script type="text/javascript" async="" src="./JSON Web Token (JWT)_files/gpfdrxfd"></script><script>window.__webStartTime=Date.now(),window.__webStartTimePerformance=performance.now()</script><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@NotionHQ"><meta name="twitter:title" content="Notion – The all-in-one workspace for your notes, tasks, wikis, and databases."><meta name="twitter:description" content="A new tool that blends your everyday work apps into one. It&#39;s the all-in-one workspace for you and your team"><meta name="twitter:url" content="https://www.notion.so"><meta name="twitter:image" content="https://www.notion.so/images/meta/default.png"><meta property="og:site_name" content="Notion"><meta property="og:type" content="website"><meta property="og:url" content="https://www.notion.so"><meta property="og:title" content="Notion – The all-in-one workspace for your notes, tasks, wikis, and databases."><meta property="og:description" content="A new tool that blends your everyday work apps into one. It&#39;s the all-in-one workspace for you and your team"><meta property="og:image" content="https://www.notion.so/images/meta/default.png"><meta property="og:locale" content="en_US"><link rel="shortcut icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABwZJREFUWEftV2lsVNcZPfets3psjDcYGwNOCYQldWQWQxPUJmnUVGoj1DRpm2YqEqdAaUSrIipSUlVEZGuVVlX+sAwpTkUKhFWe2LFbEgN2sY0hqWsT4mFqvIyxPePxvFnem/fere4ditRK7V9+lPtj9HTv0/vOPd/5zvcNwR1e5A7Hx10Adxm4y8CdZyAW2/87jzu1idpkBqCQZAGWZUEQBAgEsC0Ltk0hMMMQCN8D+U/clNsJkSTXudbLf5iIlx1aUes+/Pf+IQ8oLEkUwQueAooigILC6XS4q+cqJ0lGPxgcvHYtQCnh75y/EMb6h2rQ1TWE8fEZ1K+pxupV82CaNgght2OzZ75YbMJ/AEpBRBkQHDiwrw1Hj11BWakHWT3Hzy3LxshIArW1fgyGY9jx0/oQMa3GYMsH5wOSrIBSG83N/fB4FMiSgPD1GH7YUI+VK6tg5qzbAG4Hv22jtxgQBESHx65Px7WrH3dMPtbdMwSXS0FSMzC/uhhVlbOg6ybcHgeOHO3Gts11IWJZjcFz53oCTU39qKoqwj01s/Heny4h8Owq7D/QgWefqcP69TWwchannl38vwKQFDQd/+g3l/uF1yvKnZHmD3odY1ENxbPcUFQJkcgUFEVEVWUhhkeT+NXO1SGSSgWDAkkEZmZ0qA4JbrcKPWvC4RCRnEkzVlFY5LqVwlspoDZA/pVX9iwAlsn5yGbMrMPpTR58p73kBxsPgRARlFo4fvhJeDwyHvn6H/l7kiThbNOGENH1YNAw4oHGxh54vSpqFhajte0zPFDrRzptoKamFNGxafReHsXS+8oRicRQWupFLJ6Cqkgo9DlxofM6NgbqsGhxCQ/GsB3Y24mNDUchChKWLCnGwX2Pcw1s3vohui9F4XTIaDn5jRAx9beCH7b2BiKRBOrq/Ni3vwc/2rwar73ZDk3T4Z9bhFgshZ+8uA7xeAp7D3RjwxPL8HH7IFKpHF547n6cOjOAXTvWQnWKaP9z35FPBrR3Rdl5ZNPWMzJT6Y7ta7FwQSHMnI2pqQxe+uVZOB2OPICM9mowHI4EDjX+DdXVPuQMC7FYBpZtY9Gi2ejvn+B5ozaF31+Aru4xrFhWgsSMwSvj6W8tRlNzGFue/yKIQNBxIXw6Gq94b3Jy6GDDpvclgUhobXkKiijAtmzIqoQHv/wuiCCg7fQ3QySReCUoC6lAJmPyMnJ7FNyMJlFS6uYeIIkCrzAGyudVuSY0zYDbLUMQCGSZfZiCsgMKSLII0a1i79t/RcOWEKr8Pvz+rUfx1DMnYFOK44c3YMu2FoSvx/FR87dDJKXtCY4OjwRa2yIoL3OjqqoA41EN6UwO1fN8UFUR0TENU7EMysrcCIenMb+6EOu/VAkGuqsnCl+BguVLSzgjtm1btpUzhoYzzrPtN+BySRxoJp33Apdb4lowdBuPPewPES2xJ2ia8cBLu87iwXXzcOLUAOoemIOVdRV459AnMAwLX31kPlpaI9j24zrsC17B956+D3W15fjHSAoDA5NQZAEP1fshSAKaTl56u70z+8YvdtYPuLxQYVLApoB4y7Qsyh2VWWtWy+QZUKVU4I1fd2LNqrk4cqwfFXM8qFlQiIvdo7z8SktcuHothp//bA3eP/EZvvPkEvgrPDgdGoRACIyMiSe+xrzCxuefT15J6KWdK76A5wk18vn7t5U3LbZvmwYD8ErQzs0EJqcycKh5eqam0tyxWEqYd4+OakgmdFTN8fKeUOR1wKGIuDoYQ3mJGy6nxLVi2zZkpwLmxoZmAPR/9ToC274FIJdNBFRVyns5w8aiUArK6LJsUJNyBmGDVwO7A2ORCY4pLy/CvEPeGJ7oG4zEu9auWvh9RRIYQVx8lkUhSazRUe6mrNmZBgMwsztomckAq+lMJgdRJPnOZ9rQEjpsk6K81AVJJIjeTKOsxIWsbnGRelwy4gkdqiLyqihwKzh2ovfVjgF1z/aGxTccil6Q1Ex43TIKvQrGJtIoLnIga1hIJg0UemWWgt3BjDYdOHXmGvr6JuDzKDANCwurC9H76TgmptJ4saEWS+4pxq7Xz+P+paUYG2cuKGLBPB8udI0iZ9iwKMVz312K+XN9hgVXamh4vOgvnUMYHknCX+HFlsBy7HytA/fWFGFoJMmZfvwr1cyIdgcnxiYC/X2THB1zK1b/LK9T8QwvteWLZ/NSu9gbRZFPRc6k/NypSjBybHYgGJ/MYNmiYqgy0tPT2lRhUUFl16c3+c1VWcS9NbNw8co41w7TGdNbabEjRKLh7b8lZuYFVZE0Lk3CdEB4rtkcwT5u6GwoseF0Snyf5Y9rhM8meaHJosCc0Hv0eNfLbZe0N1/euu5y+WyhklLk2ECj6xYkmSnf5gMJteHIGvrJOz+S3f1r9n/PwD8BueZQrshCX+wAAAAASUVORK5CYII="><link rel="apple-touch-icon" href="https://techup.notion.site/images/logo-ios.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-itunes-app" content="app-id=1232780281"><meta name="format-detection" content="telephone=no"><meta name="msapplication-tap-highlight" content="no"><link href="./JSON Web Token (JWT)_files/print.b31f28aa.css" rel="stylesheet" media="print"><script defer="defer" src="./JSON Web Token (JWT)_files/2822-95dd628b54f8a9e2ba76.js"></script><script defer="defer" src="./JSON Web Token (JWT)_files/app-8c70d9b145092b667afd.js"></script><link href="./JSON Web Token (JWT)_files/app-458b27cf2746fa5c5a6a.css" rel="stylesheet"></head><body class="notion-body" data-new-gr-c-s-check-loaded="14.1085.0" data-gr-ext-installed="" data-new-gr-c-s-loaded="14.1085.0"><script>var parsed,theme="light",localThemeKey="theme",themeRecord=localStorage.getItem("theme");!themeRecord||(parsed=JSON.parse(themeRecord))&&parsed.mode&&(theme=parsed.mode),"dark"===theme&&document.body.classList.add("dark")</script><style>body{background:#fff}body.dark{background:#191919}.initial-loading-spinner{-webkit-animation:rotate 1s linear infinite;animation:rotate 1s linear infinite;-webkit-transform-origin:center center;transform-origin:center center;width:1em;height:1em;opacity:.5;display:block;pointer-events:none}@-webkit-keyframes rotate{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}@keyframes rotate{0%{-webkit-transform:rotate(0) translateZ(0);transform:rotate(0) translateZ(0)}100%{-webkit-transform:rotate(360deg) translateZ(0);transform:rotate(360deg) translateZ(0)}}</style><script>var spinner,isElectron="undefined"!=typeof global||window.__isElectron,isReactNative=/ReactNative/.test(navigator.userAgent),showSpinner=isElectron||isReactNative;!showSpinner||(spinner=document.getElementById("initial-loading-spinner"))&&(spinner.style.opacity=1)</script><style id="scroll-properties"></style><div id="notion-app"><div class="notion-app-inner notion-light-theme" style="color: rgb(55, 53, 47); fill: currentcolor; line-height: 1.5; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; -webkit-font-smoothing: auto;"><div style="height: 100%;"><div class="notion-cursor-listener" style="width: 100vw; height: 100%; position: relative; display: flex; flex: 1 1 0%; background: white; cursor: text;"><div class="" style="display: flex; flex-direction: column; width: 100%; overflow: hidden;"><div style="max-width: 100vw; z-index: 100; background: white; user-select: none;"><div class="notion-topbar" style="width: 100%; max-width: 100vw; height: 45px; opacity: 1; transition: opacity 700ms ease 0s, color 700ms ease 0s; position: relative;"><div style="display: flex; justify-content: space-between; align-items: center; overflow: hidden; height: 45px; padding-left: 12px; padding-right: 10px;"><div class="notranslate" style="display: flex; align-items: center; line-height: 1.2; font-size: 14px; height: 100%; flex-grow: 0; margin-right: 8px; min-width: 0px;"><div data-block-id="1c4b819b-b4d1-4f2c-a889-7299a8dac7a2" class="notion-selectable notion-page-block" style="display: flex; align-items: center; min-width: 0px;"><a href="https://techup.notion.site/2022-2-DTs-Course-Book-1c4b819bb4d14f2ca8897299a8dac7a2" rel="noopener noreferrer" style="display: flex; text-decoration: none; user-select: none; cursor: pointer; color: inherit; min-width: 0px;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: inherit; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);"><div style="display: flex; align-items: center; min-width: 0px;"><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 0.25em; flex-shrink: 0; margin-right: 6px; font-weight: 500;"><div style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px;"><div style="height: 18px; width: 18px; font-size: 18px; line-height: 1; margin-left: 0px; color: black;"><span role="img" aria-label="📂" style="font-family: &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, NotoColorEmoji, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols; line-height: 1em; white-space: nowrap;">📂</span></div></div></div><span class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px;">[2022.2] DTs Course Book</span></div></div></a></div><span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.5);">/</span><div style="display: flex; align-items: center; flex-shrink: 0;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 24px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);">...</div><span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.5);">/</span></div><div data-block-id="f1f2e7fb-1501-4cc2-ac18-a5574b44c3be" class="notion-selectable notion-page-block" style="display: flex; align-items: center; min-width: 0px;"><a href="https://techup.notion.site/Node-js-f1f2e7fb15014cc2ac18a5574b44c3be" rel="noopener noreferrer" style="display: flex; text-decoration: none; user-select: none; cursor: pointer; color: inherit; min-width: 0px;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: inherit; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);"><div style="display: flex; align-items: center; min-width: 0px;"><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 0.25em; flex-shrink: 0; margin-right: 6px; font-weight: 500;"><div><div style="width: 100%; height: 100%;"><img src="./JSON Web Token (JWT)_files/nodejs.png" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 3px; width: 17.76px; height: 17.76px; transition: opacity 100ms ease-out 0s;"></div></div></div><span class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 160px;">Node.js</span></div></div></a></div><span style="margin-left: 2px; margin-right: 2px; color: rgba(55, 53, 47, 0.5);">/</span><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 1; white-space: nowrap; height: 24px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 6px; padding-right: 6px; color: rgb(55, 53, 47);"><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px; border-radius: 0.25em; flex-shrink: 0; margin-right: 6px;"><div style="display: flex; align-items: center; justify-content: center; height: 20px; width: 20px;"><div style="height: 18px; width: 18px; font-size: 18px; line-height: 1; margin-left: 0px; color: black;"><span role="img" aria-label="🎫" style="font-family: &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, NotoColorEmoji, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols; line-height: 1em; white-space: nowrap;">🎫</span></div></div></div><span class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 240px;">JSON Web Token (JWT)</span></div></div><div style="flex-grow: 1; flex-shrink: 1;"></div><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);"><svg viewBox="0 0 17 17" class="searchNew" style="width: 14px; height: 14px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;"><path d="M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z"></path></svg>Search</div><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: flex; align-items: center; justify-content: center; width: 32px; height: 28px; border-radius: 3px;"><svg viewBox="0 0 13 3" class="dots" style="width: 18px; height: 18px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden;"><g><path d="M3,1.5A1.5,1.5,0,1,1,1.5,0,1.5,1.5,0,0,1,3,1.5Z"></path><path d="M8,1.5A1.5,1.5,0,1,1,6.5,0,1.5,1.5,0,0,1,8,1.5Z"></path><path d="M13,1.5A1.5,1.5,0,1,1,11.5,0,1.5,1.5,0,0,1,13,1.5Z"></path></g></svg></div><div style="flex: 0 0 auto; width: 1px; height: 16px; margin-left: 8px; margin-right: 8px; background: rgba(55, 53, 47, 0.16);"></div><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; display: inline-flex; align-items: center; flex-shrink: 0; white-space: nowrap; height: 28px; border-radius: 3px; font-size: 14px; line-height: 1.2; min-width: 0px; padding-left: 8px; padding-right: 8px; color: rgb(55, 53, 47);"><svg viewBox="0 0 120 126" class="notionLogo" style="width: 18px; height: 18px; display: block; fill: inherit; flex-shrink: 0; backface-visibility: hidden; margin-right: 6px;"><path d="M 20.6927 21.9315C 24.5836 25.0924 26.0432 24.8512 33.3492 24.3638L 102.228 20.2279C 103.689 20.2279 102.474 18.7705 101.987 18.5283L 90.5477 10.2586C 88.3558 8.55699 85.4356 6.60818 79.8387 7.09563L 13.1433 11.9602C 10.711 12.2014 10.2251 13.4175 11.1939 14.3924L 20.6927 21.9315ZM 24.8281 37.9835L 24.8281 110.456C 24.8281 114.351 26.7745 115.808 31.1553 115.567L 106.853 111.187C 111.236 110.946 111.724 108.267 111.724 105.103L 111.724 33.1169C 111.724 29.958 110.509 28.2544 107.826 28.4976L 28.721 33.1169C 25.8018 33.3622 24.8281 34.8225 24.8281 37.9835ZM 99.5567 41.8711C 100.042 44.0622 99.5567 46.2512 97.3618 46.4974L 93.7143 47.2241L 93.7143 100.728C 90.5477 102.43 87.6275 103.403 85.1942 103.403C 81.2983 103.403 80.3226 102.186 77.4044 98.54L 53.5471 61.087L 53.5471 97.3239L 61.0964 99.0275C 61.0964 99.0275 61.0964 103.403 55.0057 103.403L 38.2148 104.377C 37.727 103.403 38.2148 100.973 39.9179 100.486L 44.2996 99.2717L 44.2996 51.36L 38.2158 50.8725C 37.728 48.6815 38.9431 45.5225 42.3532 45.2773L 60.3661 44.0631L 85.1942 82.0036L 85.1942 48.4402L 78.864 47.7136C 78.3781 45.0351 80.3226 43.0902 82.7569 42.849L 99.5567 41.8711ZM 7.5434 5.39404L 76.9175 0.285276C 85.4366 -0.445402 87.6285 0.0440428 92.983 3.93368L 115.128 19.4982C 118.782 22.1747 120 22.9034 120 25.8211L 120 111.187C 120 116.537 118.051 119.701 111.237 120.185L 30.6734 125.05C 25.5584 125.294 23.124 124.565 20.4453 121.158L 4.13735 99.9994C 1.21516 96.1048 0 93.191 0 89.7819L 0 13.903C 0 9.5279 1.94945 5.8785 7.5434 5.39404Z"></path></svg>Open Notion</div></div></div><div style="width: calc(100% - 0px); user-select: none;"></div></div><div class="notion-frame" style="flex-grow: 0; flex-shrink: 1; display: flex; flex-direction: column; background: white; z-index: 1; height: calc(100vh - 45px); max-height: 100%; position: relative; width: 676px;"><div class="notion-scroller vertical" style="display: flex; flex-direction: column; z-index: 1; flex-grow: 1; position: relative; align-items: center; margin-right: 0px; margin-bottom: 0px; overflow: hidden auto;"><div style="position: absolute; top: 0px; left: 0px;"><div></div></div><div class="whenContentEditable" data-content-editable-root="true" data-content-editable-selecting="true" style="caret-color: rgb(55, 53, 47); width: 100%; display: flex; flex-direction: column; position: relative; align-items: center; flex-grow: 1; --whenContentEditable--WebkitUserModify:read-write-plaintext-only;"><span style="height: 1px; width: 1px;"></span><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" style="user-select: none; --pseudoSelection--background:transparent; width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0; z-index: 2;"></div><div style="width: 100%; display: flex; justify-content: center; z-index: 3; flex-shrink: 0;"><div style="max-width: 100%; min-width: 0px; width: 900px;"><div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div style="max-width: 100%; padding-left: calc(96px + env(safe-area-inset-left)); width: 100%;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" style="user-select: none; --pseudoSelection--background:transparent; pointer-events: none;"><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 78px; width: 78px; border-radius: 0.25em; flex-shrink: 0; position: relative; z-index: 1; margin-left: 3px; margin-bottom: 0px; margin-top: 96px; pointer-events: auto;"><div style="display: flex; align-items: center; justify-content: center; height: 78px; width: 78px;"><div style="height: 78px; width: 78px; font-size: 78px; line-height: 1; margin-left: 0px; color: black;"><span role="img" aria-label="🎫" style="font-family: &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, NotoColorEmoji, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols; line-height: 1em; white-space: nowrap;">🎫</span></div></div></div><div class="notion-page-controls" style="display: flex; justify-content: flex-start; flex-wrap: wrap; margin-top: 8px; margin-bottom: 4px; margin-left: -1px; color: rgba(55, 53, 47, 0.5); font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; height: 24px; pointer-events: auto;"></div></div><div style="padding-right: calc(96px + env(safe-area-inset-right));"><div><div data-block-id="00d81d89-aa52-4bd0-8d63-b4b071cd1d4d" class="notion-selectable notion-page-block" style="color: rgb(55, 53, 47); font-weight: 700; line-height: 1.2; font-size: 40px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; cursor: text; display: flex; align-items: center;"><div spellcheck="true" placeholder="Untitled" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">JSON Web Token (JWT)</div></div><div style="margin-left: 4px;"></div></div></div></div></div><div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div contenteditable="false" data-content-editable-void="true" style="padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); max-width: 100%; width: 100%;"></div></div></div></div><main style="display: flex; width: 100%; justify-content: center; padding-top: 5px;"><div style="max-width: 100%; min-width: 0px; width: 900px;"><div class="notion-page-content" style="flex-shrink: 0; flex-grow: 1; max-width: 100%; display: flex; align-items: flex-start; flex-direction: column; font-size: 16px; line-height: 1.5; width: 100%; z-index: 4; padding-bottom: 30vh; padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right));"><div data-block-id="c80821bc-bd25-460c-b104-37e0d069f318" class="notion-selectable notion-table_of_contents-block" style="width: 100%; max-width: 484px; margin-top: 4px; margin-bottom: 4px;"><div contenteditable="false" data-content-editable-void="true" style="position: relative;"><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#09a2374be4f84c4aae1738bed0701e56" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Intro</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#5ff4f0cc7fae4679a90ed5a35060fdbb" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Concepts</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#748b1a9ac3d044e1a4166514ecaa10c0" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 0: Setting up the code</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#4d8fdbf246634633a7e28cf09d9ce51c" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 1: Registering and logging the user into the website (Backend Part)</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#8bd7cb2a153a458c97dce4e33361c79f" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Password Encryption</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#7433caa84b87471db4a9bbb0167444fd" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 1: Registering and logging the user into the website (Frontend Part)</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#8761373ac7a64a63bc7176d1b8f6057c" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 2: Validating credentials</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#d6d3087bea344752a9385435f6b46e4d" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 3: Generating a token</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#37c127bc247a41a7a3bd77fe2b5366b2" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 4: Returning a response with the token</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#c9f52e2546bd46f49f6c8618ef85c6b5" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 5: Storing a token in the web browser’s local storage</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#9b189738c1314e39858b1e0f066f05b8" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 6: Sending a request with a token</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#7db6fd74cfb04be691fd242cbf399b56" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Step 7: Validating a token with the secret key</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#d681a88f90ff49c092882855e24ec7ef" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 24px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Logging User out of Website</div></div></div></a></div><div style="color: rgb(120, 119, 116); fill: rgb(120, 119, 116);"><a href="https://techup.notion.site/JSON-Web-Token-JWT-00d81d89aa524bd08d63b4b071cd1d4d#8fe304ecc1ed4f6f9719114f443861f2" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none;"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="padding: 6px 2px; font-size: 14px; line-height: 1.3; display: flex; align-items: center; margin-left: 0px;"><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; background-image: linear-gradient(to right, rgba(55, 53, 47, 0.16) 0%, rgba(55, 53, 47, 0.16) 100%); background-repeat: repeat-x; background-position: 0px 100%; background-size: 100% 1px;">Recap</div></div></div></a></div></div></div><div data-block-id="09a2374b-e4f8-4c4a-ae17-38bed0701e56" class="notion-selectable notion-sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1.4em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 2" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3;">Intro</div></div></div><div data-block-id="b7f91ac0-7214-45a2-90d5-1fd44f74c566" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในหัวข้อนี้ เราจะเรียนรู้วิธีการสร้างระบบ Token-Based Authentication โดยจะใช้ตัวอย่างการสร้าง Authentication ให้กับ Blog Post App ที่เราเคยทำมา</div></div></div></div></div><div data-block-id="4f6708b4-2c5a-4dc0-999c-0787612ac040" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราจะไล่เรียงการ Implement ระบบ Authentication ตาม 7 ขั้นตอนใน Diagram ด้านล่าง</div></div><div data-block-id="0618a00e-2c2f-49b2-9cde-1dff7e8820e7" class="notion-selectable notion-image-block" style="width: 100%; max-width: 100%; align-self: flex-start; margin-top: 4px; margin-bottom: 0px;"><div contenteditable="false" data-content-editable-void="true"><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div><div style="height: 100%; width: 100%;"><img src="./JSON Web Token (JWT)_files/authentication-diagram.002.jpeg" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 1px; pointer-events: auto; width: 100%;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="ea4eef70-70e9-44c8-bf64-d49117a3e228" class="notion-selectable notion-callout-block" style="width: 100%; max-width: 484px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="display: flex; width: 100%; border-radius: 3px; background: rgb(231, 243, 248); padding: 16px 16px 16px 12px;"><div><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 24px; width: 24px; border-radius: 0.25em; flex-shrink: 0;"><div style="display: flex; align-items: center; justify-content: center; height: 24px; width: 24px;"><div style="height: 21.6px; width: 21.6px; font-size: 21.6px; line-height: 1; margin-left: 0px; color: black;"><span role="img" aria-label="ℹ️" style="font-family: &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, NotoColorEmoji, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols; line-height: 1em; white-space: nowrap;">ℹ️</span></div></div></div></div><div style="display: flex; flex-direction: column; min-width: 0px; margin-left: 8px; width: 100%;"><div spellcheck="true" placeholder="Type something…" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding-left: 2px; padding-right: 2px;">หัวข้อนี้จะมีขั้นตอนและเนื้อหาเยอะมาก จึงอยากขอแนะนำให้ใช้แนวทางการทำความเข้าใจดังนี้</div><div data-block-id="c5e5d61b-8b60-41ed-bd73-a0b20f28bc38" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ทำความเข้าใจภาพใหญ่ใน Diagram ด้านบนก่อน ตามที่ได้อธิบายในหัวข้อที่แล้ว</div></div></div></div></div><div data-block-id="264723be-9c39-45e6-a295-2f6a0b75169e" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">หลังจากนั้น ให้เริ่มทำความเข้าใจโค้ดตั้งต้นที่เพิ่มเข้ามาใน Step 0 ด้านล่าง</div></div><div data-block-id="1a256a2f-d644-4b2a-a7da-a7f183c5b38a" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ก่อนเริ่มอ่าน ขอแนะนำให้ Clone ตัว Repository ที่แปะไว้ตอนก่อนเริ่ม Step 0 มาดูประกอบแต่ละขั้นตอนในหน้านี้</div></div></div></div></div><div data-block-id="45df2361-6ec3-471a-b961-989dadd490b6" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="color:inherit;border-bottom:0.05em solid;word-wrap:break-word;font-weight:600" data-token-index="0" class="notion-enable-hover">ไม่แนะนำ</span>ให้อ่านแต่ขั้นตอนใน Course Book อย่างเดียว</div></div></div></div></div><div data-block-id="a5c4391a-b55a-4df8-b93f-d60ea9e445e9" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">แนะนำให้ลองรันโค้ดที่ Clone ไว้ตามไปด้วย</div></div></div></div></div></div></div></div><div data-block-id="7e7ef378-102e-4273-b15d-1e3cbd8f1659" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถัดมา ให้ค่อยๆ อ่านไปทีละขั้นตอนตาม Diagram โดยที่เริ่มจาก Step 1 ไปเรื่อยๆ</div></div></div></div></div><div data-block-id="f8ca78c6-38e4-4b1c-b4dd-f9abae1d740e" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในแต่ละขั้นตอน โค้ดส่วนใหญ่จะเป็นการสร้าง API ในฝั่ง Server แล้วนำ API นี้ไปใช้ในฝั่ง Client</div></div><div data-block-id="b74b1d7f-3424-4db8-afcb-7685a94c1ac7" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ดังนั้น เริ่มจากทำความเข้าการทำงานของใน API ในฝั่ง Server ก่อน แล้วค่อยไปดูว่าเอา API นี้ไปใช้ในฝั่ง Client ได้อย่างไร</div></div></div></div></div></div></div></div></div></div></div></div><div data-block-id="5ff4f0cc-7fae-4679-a90e-d5a35060fdbb" class="notion-selectable notion-sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1.4em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 2" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3;">Concepts</div></div></div><div data-block-id="748b1a9a-c3d0-44e1-a416-6514ecaa10c0" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 0: Setting up the code</div></div></div><div data-block-id="c667bf0f-8e61-4076-b8f8-0bbbdee6aea5" class="notion-selectable notion-callout-block" style="width: 100%; max-width: 484px; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="display: flex; width: 100%; border-radius: 3px; background: rgb(251, 243, 219); padding: 16px 16px 16px 12px;"><div><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 24px; width: 24px; border-radius: 0.25em; flex-shrink: 0;"><div style="display: flex; align-items: center; justify-content: center; height: 24px; width: 24px;"><div style="height: 21.6px; width: 21.6px; font-size: 21.6px; line-height: 1; margin-left: 0px; color: black;"><span role="img" aria-label="👉🏼" style="font-family: &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, NotoColorEmoji, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols; line-height: 1em; white-space: nowrap;">👉🏼</span></div></div></div></div><div style="display: flex; flex-direction: column; min-width: 0px; margin-left: 8px; width: 100%;"><div spellcheck="true" placeholder="Type something…" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding-left: 2px; padding-right: 2px;">ให้ดูโค้ดใน <a href="https://github.com/techupth/nodejs-auth-blog-post-app/tree/answer" style="cursor:pointer;color:inherit;word-wrap:break-word;text-decoration:inherit" class="notion-link-token notion-enable-hover" target="_blank" rel="noopener noreferrer" data-token-index="1"><span style="border-bottom:0.05em solid;border-color:rgba(55,53,47,0.4);opacity:0.7" class="link-annotation-c667bf0f-8e61-4076-b8f8-0bbbdee6aea5-1571003260">Repository นี้</span></a>ใน Branch <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">answer</span> ประกอบคำอธิบายไปด้วย</div></div></div></div></div><div data-block-id="580c96cf-fb26-4595-aadd-7d40798605cf" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในการทำ Authentication เราต้องเพิ่ม Component ต่อไปนี้เข้าไปในส่วน Front End</div></div><div data-block-id="a9f50386-e446-45e0-9b6f-f7d7162cbb90" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในไฟล์ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">client/src/pages/RegisterPage.js</span> เราต้องเพิ่ม Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">RegisterPage</span> ซึ่งใช้แสดงแบบฟอร์มลงทะเบียนที่มีหน้าตาเหมือนในรูปภาพด้านล่าง</div></div><div data-block-id="278e6b61-3295-4a34-bec8-650c88bfcd63" class="notion-selectable notion-image-block" style="width: 100%; max-width: 100%; align-self: flex-start; margin-top: 4px; margin-bottom: 0px;"><div contenteditable="false" data-content-editable-void="true"><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div><div style="height: 100%; width: 100%;"><img src="./JSON Web Token (JWT)_files/Screen_Shot_2022-04-14_at_17.40.24.png" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 1px; pointer-events: auto; width: 100%;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="b2e58fed-057d-4685-b8aa-4472f8e701ca" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในไฟล์ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">client/src/pages/LoginPage.js</span> ต้องเพิ่ม Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">LoginPage</span> ซึ่งแสดง Login Form มีหน้าตาเหมือนในรูปภาพด้านล่าง</div></div><div data-block-id="32cd5969-809f-4009-ad1d-3ec4d80a354e" class="notion-selectable notion-image-block" style="width: 100%; max-width: 100%; align-self: flex-start; margin-top: 4px; margin-bottom: 0px;"><div contenteditable="false" data-content-editable-void="true"><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div><div style="height: 100%; width: 100%;"><img src="./JSON Web Token (JWT)_files/Screen_Shot_2022-04-14_at_17.40.21.png" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 1px; pointer-events: auto; width: 100%;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="9e99407a-13a7-40f0-ae52-f137e57fb80a" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ใน Folder <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">client/src/pages</span> ต้องเพิ่ม Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">AuthenticatedApp</span> และ Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="5" spellcheck="false" class="notion-enable-hover">UnauthenticatedApp</span></div></div><div data-block-id="461f2189-8118-43af-a600-44c328701fb1" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="0" spellcheck="false" class="notion-enable-hover">AuthenticatedApp</span> เป็น Component ที่จะสามารถแสดงเพจต่างๆ ตามที่กำหนดด้วย Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">Route</span> บนเว็บไซต์<span style="font-weight:600" data-token-index="4" class="notion-enable-hover">ในขณะที่ผู้ใช้งาน Login เข้ามาแล้ว</span></div></div></div></div></div><div data-block-id="e52b6c11-8edd-41d5-addd-85c3a1766683" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="0" spellcheck="false" class="notion-enable-hover">UnauthenticatedApp</span> เป็น Component ที่จะสามารถแสดงเพจต่างๆ ตามที่กำหนดด้วย Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">Route</span> บนเว็บไซต์<span style="font-weight:600" data-token-index="4" class="notion-enable-hover">ในขณะที่ผู้ใช้งานยังไม่ได้ Login</span></div></div></div></div></div></div></div></div><div data-block-id="ad3fd246-5da8-4413-93b7-e6f1b9a7bd0b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในไฟล์ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">contexts/authentication.js</span> ต้องเพิ่ม <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">AuthContext</span> ซึ่งเป็น Context ที่เอาไว้เก็บ State ต่างๆ เกี่ยวกับข้อมูลผู้ใช้งาน และใช้เก็บ Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="5" spellcheck="false" class="notion-enable-hover">login</span>, <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="7" spellcheck="false" class="notion-enable-hover">logout</span>, <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="9" spellcheck="false" class="notion-enable-hover">register</span> ที่จะเอาไปใช้ใน Component อื่นๆ</div></div><div data-block-id="02f2da2f-0fa1-42a9-b844-ae473e4da4d2" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ภายใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">authentication.js</span> จะมีการ Export ตัว Hook ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">useAuth</span> ซึ่งจะใช้ในการ Consume ตัว Value จาก <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="5" spellcheck="false" class="notion-enable-hover">AuthContext</span></div></div></div></div></div></div></div></div><div data-block-id="7afa794c-b4e0-4588-8189-233ebeac9e8c" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในไฟล์ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">App.js</span> จะมีการใช้ Hook <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">useAuth</span> เพื่อตรวจสอบว่าผู้ใช้งานได้ทำการ Login แล้วหรือไม่</div></div><div data-block-id="f5ca85c0-76e0-4eab-b123-2c59975f6b1f" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้า Login แล้ว ก็จะเห็นเว็บเพจที่ระบุเป็น Route ใน Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">AuthenticatedApp</span> ทั้งหมด</div></div></div></div></div><div data-block-id="35c80f0c-e1ba-4687-8d2c-8c8757cbf924" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">แต่ถ้ายังไม่ได้ Login ก็จะเห็นเว็บเพจที่ระบุเป็น Route ใน Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">UnauthenticatedApp</span> ทั้งหมด</div></div></div></div></div></div></div></div></div></div></div><div data-block-id="4d8fdbf2-4663-4633-a7e2-8cf09d9ce51c" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 1: Registering and logging the user into the website (Backend Part)</div></div></div><div data-block-id="9fef9691-7f7a-488d-a78d-60fae6de7883" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ก่อนที่ผู้ใช้จะสามารถ Login ในเว็บไซต์ได้ ก็ต้อง Register หรือลงทะเบียน เพื่อบันทึกข้อมูลส่วนตัวไว้ใน Database ของเราก่อน</div></div></div></div></div><div data-block-id="b0ca9f8e-4f7d-4581-ae98-a3b6bd5be449" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถสร้างเพจสำหรับลงทะเบียนผู้ใช้งาน (ซึ่งมี API ที่จะนำข้อมูลนี้ส่งไปบันทึกใน Database) ได้ตามขั้นตอนดังนี้</div></div><div data-block-id="e12d0e4e-a65c-4b27-bc12-be0a582138d7" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราจะเริ่มจากการสร้าง Registration API ก่อน ซึ่งเป็น API ที่จะนำข้อมูลที่กรอกตอนลงทะเบียนไปบันทึกไว้ใน Database</div></div></div></div></div><div data-block-id="86ec0ff0-5341-4845-b9d7-20ae78e0c77f" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">API นี้จะเป็นรากฐานของระบบ Authentication ของเรา และจะนำมาใช้ในขั้นตอนอื่นๆ ด้วย</div></div></div></div></div><div data-block-id="e02ca1ad-a6f9-4d5f-bad8-994544e94bca" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถสร้าง Router ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">authRouter</span> เพื่อเก็บ API Routes เหล่านี้ ได้ด้วยโค้ดด้านล่าง</div></div><div data-block-id="bbb72862-2f01-4fc2-858e-92c67141c646" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ server/apps/auth.js</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0"> Router </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"express"</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> authRouter </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">Router</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

</span><span class="token comment" data-token-index="0">// เดี๋ยวจะเขียนโค้ด API Routes ตรงนี้</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">export</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">default</span><span class="" data-token-index="0"> authRouter</span><span class="token punctuation" data-token-index="0">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="cf62b1bf-e96d-4600-8869-4557d41b5b04" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อสร้าง <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">authRouter</span> ขึ้นมาแล้ว เราก็จะนำไปใช้ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">app.js</span> </div></div><div data-block-id="bb7a5acd-3385-42cd-b292-1f5eb5f42c45" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ server/app.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> authRouter </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./apps/auth.js"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

app</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">use</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"/auth"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> authRouter</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="54372ecc-e516-46f1-ad27-d0106d4aa073" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้น เราจะสร้าง API <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">POST: /register</span> ซึ่งจะเป็น API ที่นำข้อมูลจากการลงทะเบียนไปบันทึกไว้ใน Database</div></div><div data-block-id="e1ec5146-42ae-4dd9-845e-b07189ef0f9a" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ server/apps/auth.js</span><span class="" data-token-index="0">

authRouter</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">post</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"/register"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> user </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
		</span><span class="token literal-property property" data-token-index="0">username</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">body</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">username</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
		</span><span class="token literal-property property" data-token-index="0">password</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">body</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">password</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
		</span><span class="token literal-property property" data-token-index="0">firstName</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">body</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">firstName</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
		</span><span class="token literal-property property" data-token-index="0">lastName</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">body</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">lastName
	</span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> collection </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> db</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">collection</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"users"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
	</span><span class="token keyword" data-token-index="0">await</span><span class="" data-token-index="0"> collection</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">insertOne</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">user</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">

	</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">json</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
		</span><span class="token literal-property property" data-token-index="0">message</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"User has been created successfully"</span><span class="" data-token-index="0">
	</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="141b3300-0b42-4b50-a802-0372db2cbb75" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้นให้ลองสร้าง Request เข้ามาที่ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">API POST: /auth/register</span> ด้วย Postman แล้วระบุ Body เป็นแบบนี้</div></div><div data-block-id="cffbeaea-3f5c-480c-8aba-5d1cc5325cec" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token property" data-token-index="0">"username"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"johntechup"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
	</span><span class="token property" data-token-index="0">"password"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"johnpassword"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
	</span><span class="token property" data-token-index="0">"firstName"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"John"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
	</span><span class="token property" data-token-index="0">"lastName"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"Doe"</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JSON<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="b439f7c1-598d-40dc-841e-694365bcf300" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้าเราเห็น API Response ที่มี Property <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">message</span> ว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">User has been created  successfully</span> ก็แปลว่า API ของเราสามารถทำงานได้อย่างสำเร็จแล้ว</div></div></div></div></div></div></div></div><div data-block-id="8bd7cb2a-153a-458c-97dc-e4e33361c79f" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Password Encryption</div></div></div><div data-block-id="497d0520-0f51-4cf6-a8f8-6f0a0c50232f" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">แต่ปัญหาหนึ่งที่มีตอนนี้ ก็คือถ้าเราไปดูใน Database ก็จะเห็นว่า Password ของ John นั้นถูกบันทึกไว้เป็น Plain Text</div></div><div data-block-id="6210d6be-53b8-4351-8ed8-ce9f590ab2e4" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Plain Text เป็นข้อความที่บันทึกเป็นตัวอักษรธรรมดาๆ สามารถอ่านง่ายๆได้โดยตรง</div></div></div></div></div><div data-block-id="3a262c52-3352-4aed-855e-eb2f80d1ed73" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">การเก็บ Password เป็น Plain Text เป็นสิ่งที่ไม่ควรทำอย่างมาก เพราะว่าถ้าข้อมูลใน Database หลุดออกไป ก็จะสามารถนำไปใช้ได้อย่างง่ายดาย</div></div></div></div></div><div data-block-id="ed60a94d-3622-4535-b8e2-a3980e18daf5" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ดังนั้น เราควร Encrypt ข้อมูล Password ทุกครั้ง เพื่อให้บุคคลภายนอกไม่สามารถนำไปใช้งานได้</div></div></div></div></div><div data-block-id="b0d92361-779b-4b5f-a6e8-65b9309f9554" class="notion-selectable notion-image-block" style="width: 100%; max-width: 100%; align-self: flex-start; margin-top: 4px; margin-bottom: 0px;"><div contenteditable="false" data-content-editable-void="true"><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div><div style="height: 100%; width: 100%;"><img src="./JSON Web Token (JWT)_files/Screen_Shot_2022-04-14_at_14.27.04.png" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 1px; pointer-events: auto; width: 100%;"></div></div></div></div></div><div spellcheck="true" placeholder="Write a caption…" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); font-size: 14px; line-height: 1.4; color: rgba(55, 53, 47, 0.65); padding-top: 6px; padding-bottom: 6px; padding-left: 2px;">In this document, the property <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">password</span> is visibly displayed in plain text. This is a security risk.</div></div></div></div></div></div><div data-block-id="0dcef5b1-5102-4b84-8f09-a3cfaf1cb9bc" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถ Encrypt ข้อมูล Password ได้ด้วย Package ที่ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">bcrypt</span></div></div><div data-block-id="d860aa80-cddb-42e4-9154-9c4e338f5843" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถติดตั้ง <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">bcrypt</span> ได้ด้วย Command <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">npm install bcrypt</span> ใน CLI</div></div></div></div></div><div data-block-id="43b4aadf-5121-42e3-bb7c-a70734fc8d07" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้น ก็สามารถ Encrypt ตัว Password ได้ตามขั้นตอนต่อไปนี้</div></div><div data-block-id="4430a6e1-cc98-48b0-a371-1159cc94f7a7" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">สร้าง Salt ด้วย Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">bcrypt.genSalt</span> ที่ Import มาจาก <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">bcrypt</span></div></div></div></div></div><div data-block-id="568ad24a-2383-42c2-9378-166779dff300" class="notion-selectable notion-callout-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div style="display: flex; width: 100%; border-radius: 3px; background: rgb(251, 243, 219); padding: 16px 16px 16px 12px;"><div><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 24px; width: 24px; border-radius: 0.25em; flex-shrink: 0;"><div style="display: flex; align-items: center; justify-content: center; height: 24px; width: 24px;"><div style="height: 21.6px; width: 21.6px; font-size: 21.6px; line-height: 1; margin-left: 0px; color: black;"><span role="img" aria-label="💡" style="font-family: &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, NotoColorEmoji, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols; line-height: 1em; white-space: nowrap;">💡</span></div></div></div></div><div style="display: flex; flex-direction: column; min-width: 0px; margin-left: 8px; width: 100%;"><div spellcheck="true" placeholder="Type something…" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding-left: 2px; padding-right: 2px;"><span style="font-weight:600" data-token-index="0" class="notion-enable-hover">Tip</span>
A salt is a random string that is used in encryption. It makes the encrypted data more secure.</div></div></div></div></div><div data-block-id="3a1121f1-7765-404a-9323-efc1ed1b3cf9" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">หลังจากนั้น ก็เอา Salt มา Encrypt ด้วย Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">bcrypt.hash</span> ตามในโค้ดต่อไปนี้</div></div></div></div></div><div data-block-id="24bf79a6-639f-48cf-b44a-52d97f0963be" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ server/apps/auth.js</span><span class="" data-token-index="0">
</span><span class="token keyword" style="background:rgba(251, 243, 219, 1)" data-token-index="1">import</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="1"> bcrypt </span><span class="token keyword" style="background:rgba(251, 243, 219, 1)" data-token-index="1">from</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="1"> </span><span class="token string" style="background:rgba(251, 243, 219, 1)" data-token-index="1">"bcrypt"</span><span class="" data-token-index="2">

authRouter</span><span class="token punctuation" data-token-index="2">.</span><span class="token function" data-token-index="2">post</span><span class="token punctuation" data-token-index="2">(</span><span class="token string" data-token-index="2">"/register"</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2"> </span><span class="token keyword" data-token-index="2">async</span><span class="" data-token-index="2"> </span><span class="token punctuation" data-token-index="2">(</span><span class="token punctuation" data-token-index="2">)</span><span class="" data-token-index="2"> </span><span class="token operator" data-token-index="2">=&gt;</span><span class="" data-token-index="2"> </span><span class="token punctuation" data-token-index="2">{</span><span class="" data-token-index="2">
	</span><span class="token keyword" data-token-index="2">const</span><span class="" data-token-index="2"> user </span><span class="token operator" data-token-index="2">=</span><span class="" data-token-index="2"> </span><span class="token punctuation" data-token-index="2">{</span><span class="" data-token-index="2">
		</span><span class="token literal-property property" data-token-index="2">username</span><span class="token operator" data-token-index="2">:</span><span class="" data-token-index="2"> req</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">body</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">username</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2">
		</span><span class="token literal-property property" data-token-index="2">password</span><span class="token operator" data-token-index="2">:</span><span class="" data-token-index="2"> req</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">body</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">password</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2">
		</span><span class="token literal-property property" data-token-index="2">firstName</span><span class="token operator" data-token-index="2">:</span><span class="" data-token-index="2"> req</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">body</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">firstName</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2">
		</span><span class="token literal-property property" data-token-index="2">lastName</span><span class="token operator" data-token-index="2">:</span><span class="" data-token-index="2"> req</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">body</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">lastName
	</span><span class="token punctuation" data-token-index="2">}</span><span class="" data-token-index="2">
	
		</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="3">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> salt </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="3">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="3">await</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> bcrypt</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">genSalt</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token number" style="background:rgba(251, 236, 221, 1)" data-token-index="3">10</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" data-token-index="4">
    </span><span class="token comment" data-token-index="4">// now we set user password to hashed password</span><span class="" data-token-index="4">
    </span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="5">user</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="5">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="5">password </span><span class="token operator" style="background:rgba(231, 243, 248, 1)" data-token-index="5">=</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="5"> </span><span class="token keyword" style="background:rgba(231, 243, 248, 1)" data-token-index="5">await</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="5"> bcrypt</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="5">.</span><span class="token function" style="background:rgba(231, 243, 248, 1)" data-token-index="5">hash</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="5">(</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="5">user</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="5">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="5">password</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="5">,</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="5"> salt</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="5">)</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="5">;</span><span class="" data-token-index="6">

	</span><span class="token keyword" data-token-index="6">const</span><span class="" data-token-index="6"> collection </span><span class="token operator" data-token-index="6">=</span><span class="" data-token-index="6"> db</span><span class="token punctuation" data-token-index="6">.</span><span class="token function" data-token-index="6">collection</span><span class="token punctuation" data-token-index="6">(</span><span class="token string" data-token-index="6">"users"</span><span class="token punctuation" data-token-index="6">)</span><span class="token punctuation" data-token-index="6">;</span><span class="" data-token-index="6">
	</span><span class="token keyword" data-token-index="6">await</span><span class="" data-token-index="6"> collection</span><span class="token punctuation" data-token-index="6">.</span><span class="token function" data-token-index="6">insertOne</span><span class="token punctuation" data-token-index="6">(</span><span class="" data-token-index="6">user</span><span class="token punctuation" data-token-index="6">)</span><span class="" data-token-index="6">

	</span><span class="token keyword" data-token-index="6">return</span><span class="" data-token-index="6"> res</span><span class="token punctuation" data-token-index="6">.</span><span class="token function" data-token-index="6">json</span><span class="token punctuation" data-token-index="6">(</span><span class="token punctuation" data-token-index="6">{</span><span class="" data-token-index="6">
		</span><span class="token literal-property property" data-token-index="6">message</span><span class="token operator" data-token-index="6">:</span><span class="" data-token-index="6"> </span><span class="token string" data-token-index="6">"User has been created successfully"</span><span class="" data-token-index="6">
	</span><span class="token punctuation" data-token-index="6">}</span><span class="token punctuation" data-token-index="6">)</span><span class="" data-token-index="6">
</span><span class="token punctuation" data-token-index="6">}</span><span class="token punctuation" data-token-index="6">)</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="8772e0e2-4f0b-45b0-82ff-9a3594687347" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในโค้ดด้านบน</div></div><div data-block-id="de7c7482-692b-402e-bee8-dfbc29084d9f" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(251, 236, 221, 1)" data-token-index="0" class="notion-enable-hover">ในส่วนที่ Highlight สีส้ม</span> เราจะสร้าง Salt ด้วย Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">bcrypt.genSalt</span></div></div></div></div></div><div data-block-id="e9fc23df-c213-4de2-8f94-161c40bca38d" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(231, 243, 248, 1)" data-token-index="0" class="notion-enable-hover">ในส่วนที่ Highlight สีฟ้า</span> เป็นการ Encrypt <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">user.password</span> ด้วย Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="4" spellcheck="false" class="notion-enable-hover">bcrypt.hash</span></div></div></div></div></div></div></div></div><div data-block-id="a8524679-a5a9-410f-9ea0-8bb6a48639a3" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้นให้ลองสร้าง User ใหม่ขึ้นมาด้วยการส่ง Request เข้ามาที่ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">API POST: /auth/register</span> ด้วย Body ตามนี้</div></div><div data-block-id="d1ce585a-c013-4cb0-aa03-35b7bb82dd50" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token property" data-token-index="0">"username"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"jamestechup"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
	</span><span class="token property" data-token-index="0">"password"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"jamespassword"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
	</span><span class="token property" data-token-index="0">"firstName"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"James"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
	</span><span class="token property" data-token-index="0">"lastName"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"TechUp"</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JSON<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="4c4226d2-5d35-409a-ad79-46bb5afa0b16" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้าเราไปดูข้อมูลใน Database อีกรอบ ก็จะเห็นว่า Password ของเราได้ถูก Encrypt เรียบร้อยแล้วตามในรูปภาพด้านล่าง</div></div><div data-block-id="4b109660-3dad-408b-b4de-bbbb4ea4cbca" class="notion-selectable notion-image-block" style="width: 100%; max-width: 100%; align-self: flex-start; margin-top: 4px; margin-bottom: 0px;"><div contenteditable="false" data-content-editable-void="true"><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div><div style="height: 100%; width: 100%;"><img src="./JSON Web Token (JWT)_files/Screen_Shot_2022-04-14_at_14.29.21.png" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 1px; pointer-events: auto; width: 100%;"></div></div></div></div></div><div spellcheck="true" placeholder="Write a caption…" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); font-size: 14px; line-height: 1.4; color: rgba(55, 53, 47, 0.65); padding-top: 6px; padding-bottom: 6px; padding-left: 2px;">In this document, the property <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">password</span> has been encrypted. This way of storing passwords is much more secure than non-encrypted storage.</div></div></div></div></div></div><div data-block-id="7433caa8-4b87-471d-b4a9-bbb0167444fd" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 1: Registering and logging the user into the website (Frontend Part)</div></div></div><div data-block-id="38f76560-a1fa-4ad3-8577-32f55bd89e3c" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อเราสร้าง API สำหรับการลงทะเบียน (Register) เสร็จเรียบร้อยแล้ว ก็จะกลับไปที่หน้า Front End เพื่อที่เอา API <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">POST: /auth/register</span> ไปใส่</div></div><div data-block-id="40244bc8-b3ae-489c-9bb2-fa562f643b58" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถเอา API นี้ไปใช้งานได้โดยการเพิ่มโค้ดภายใน Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">AuthProvider</span> ดังนี้</div></div></div></div></div><div data-block-id="6155fa68-70d9-4f73-9494-511c4d3d4559" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/contexts/authentication.js</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> axios </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"axios"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0"> useNavigate </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"react-router-dom"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">AuthProvider</span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">props</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token comment" data-token-index="0">//...</span><span class="" data-token-index="0">

	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> navigate </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">useNavigate</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">	</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token function-variable function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">register</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">async</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token parameter" style="background:rgba(251, 236, 221, 1)" data-token-index="1">data</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=&gt;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
	  </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">await</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> axios</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">post</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"http://localhost:4000/auth/register"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> data</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
	  </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">navigate</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"/login"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
	</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" data-token-index="2">
	
	</span><span class="token comment" data-token-index="2">//...</span><span class="" data-token-index="2">
</span><span class="token punctuation" data-token-index="2">}</span><span class="" data-token-index="2">
</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div data-block-id="d90d1f9c-83bc-4617-91a5-3a87487150f2" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากโค้ดด้านบน</div></div><div data-block-id="0dc86be3-9bb3-4aa0-810f-4d1b8430ce24" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(251, 236, 221, 1)" data-token-index="0" class="notion-enable-hover">ในส่วนที่ Highlight สีส้ม</span> เราสร้าง Request ไปที่ API <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">POST: /auth/register</span> พร้อมกับ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="4" spellcheck="false" class="notion-enable-hover">data</span></div></div></div></div></div><div data-block-id="dcd5b14f-179a-4daf-9300-abe4cbb5b537" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อ Request เสร็จสมบูรณ์ เราจะใช้ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">navigate</span> เพื่อ Redirect ไปที่หน้า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">/login</span></div></div></div></div></div></div></div></div></div></div></div><div data-block-id="ab8631c1-33f6-4cdc-8f24-0e6907b2cb44" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถัดมา เราจะทำให้หน้า Register สามารถที่จะกดปุ่ม “Submit” เพื่อส่งข้อมูลที่ผู้ใช้งานกรอกลงใน Register Form ไปบันทึกลงใน Database ด้วยการ Import <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">useAuth</span> จาก <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">contexts/authentication.js</span> แล้วนำ Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="5" spellcheck="false" class="notion-enable-hover">register</span> จาก <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="7" spellcheck="false" class="notion-enable-hover">useAuth</span> มาใส่ใน Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="9" spellcheck="false" class="notion-enable-hover">RegisterPage</span> แบบนี้</div></div><div data-block-id="62d32998-809f-4373-b970-6d0ab783cc25" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราจะนำ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">register</span> มาใช้ใน Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">handleSubmit</span> ในส่วนที่ <span style="background:rgba(251, 236, 221, 1)" data-token-index="5" class="notion-enable-hover">Highlight สีส้ม</span>ด้านล่าง</div></div><div data-block-id="a9d950b4-4f64-4335-8e0b-3b4b6a82a173" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/pages/RegisterPage.js</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">RegisterPage</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">username</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> setUsername</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">useState</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">""</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
  </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">firstName</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> setFirstName</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">useState</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">""</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
  </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">lastName</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> setLastName</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">useState</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">""</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
  </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">[</span><span class="" data-token-index="0">password</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> setPassword</span><span class="token punctuation" data-token-index="0">]</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">useState</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">""</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

 </span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> register </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">useAuth</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">

  </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token function-variable function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">handleSubmit</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token parameter" style="background:rgba(251, 236, 221, 1)" data-token-index="1">event</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=&gt;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
    event</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">preventDefault</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
    </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> data </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
      username</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
      password</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
      firstName</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
      lastName</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
    </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
    </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">register</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">data</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
  </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" data-token-index="2">
 </span><span class="token comment" data-token-index="2">// ...</span><span class="" data-token-index="2">
</span><span class="token punctuation" data-token-index="2">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="8761373a-c7a6-4a63-bc71-76d1b8f6057c" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 2: Validating credentials</div></div></div><div data-block-id="fc26d758-cf1d-4cf8-95bd-fc311e328676" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อ Step 1 ข้างบนเสร็จสิ้น ผู้ใช้งานก็สามารถ Register ในเว็บไซต์ของเราได้แล้ว และเราก็จะมีข้อมูลผู้ใช้งานอยู่ใน Database</div></div></div></div></div><div data-block-id="1054bba0-5a79-4d50-bca9-4b4832a32fe9" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถัดมา เราจะต้องสร้างเพจที่ใช้สำหรับการ Login แล้วทำให้ผู้ใช้งานสามารถกรอก Username และ Password ลงใน Login Form แล้วคลิก Login เข้าใช้งานเว็บไซต์ได้</div></div></div></div></div><div data-block-id="ccde501a-a4bb-436e-b09d-7b45db7308d0" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">อันดับแรก เราจะเริ่มจากการสร้าง API <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">POST: /auth/login</span> เพื่อใช้ Login </div></div><div data-block-id="a344f4c9-7fb4-4453-a9d5-6acdf0bceeac" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดส่วนนี้อยู่ในไฟล์ apps/auth.js</span><span class="" data-token-index="0">
authRouter</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">post</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"/login"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token comment" data-token-index="0">// Controller Function</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="9b600dde-3f20-400c-ab4a-fe87f03d403f" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ภายใน Controller Function เราจะเขียน Logic ในการตรวจสอบ Credentials ได้ดังนี้</div></div><div data-block-id="87e3e51c-ceab-4bfc-866c-f41dc887c815" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ขั้นแรกเราจะตรวจสอบว่า Username นี้มีในระบบหรือไม่ ด้วยการ Query หาใน Collection <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">users</span> ถ้าไม่มีก็ให้ Return ตัว Response กลับไปด้วย <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">message</span> ว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="5" spellcheck="false" class="notion-enable-hover">user not found</span></div></div><div data-block-id="ac2a424b-600c-4c79-b741-afac208e2ba9" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดส่วนนี้อยู่ในไฟล์ apps/auth.js</span><span class="" data-token-index="0">
authRouter</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">post</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"/login"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> user </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">await</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> db</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">collection</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"users"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">find</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
			</span><span class="token literal-property property" style="background:rgba(251, 236, 221, 1)" data-token-index="1">username</span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">:</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> req</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">body</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">username
		</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
</span><span class="" data-token-index="2">
    </span><span class="token keyword" style="background:rgba(251, 243, 219, 1)" data-token-index="3">if</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">(</span><span class="token operator" style="background:rgba(251, 243, 219, 1)" data-token-index="3">!</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">user</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">)</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
      </span><span class="token keyword" style="background:rgba(251, 243, 219, 1)" data-token-index="3">return</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3"> res</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 243, 219, 1)" data-token-index="3">status</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">(</span><span class="token number" style="background:rgba(251, 243, 219, 1)" data-token-index="3">404</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 243, 219, 1)" data-token-index="3">json</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">(</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
				</span><span class="token string-property property" style="background:rgba(251, 243, 219, 1)" data-token-index="3">"message"</span><span class="token operator" style="background:rgba(251, 243, 219, 1)" data-token-index="3">:</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3"> </span><span class="token string" style="background:rgba(251, 243, 219, 1)" data-token-index="3">"user not found"</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
			</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">}</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">)</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
    </span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">}</span><span class="" data-token-index="4">

</span><span class="token punctuation" data-token-index="4">}</span><span class="token punctuation" data-token-index="4">)</span><span class="token punctuation" data-token-index="4">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="8b5ea8c7-3aeb-48dd-a97f-8702a761b7c3" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้ามี Username ในระบบ เราจะไปตรวจสอบ Password ต่อ ว่าตรงกับใน Database หรือไม่</div></div><div data-block-id="bff84381-e310-4bae-b7d7-4d99eef03c7c" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">แต่เนื่องจากว่า Password ได้ถูก Encrypt ไว้ จึงไม่สามารถเปรียบเทียบด้วย == หรือ === โดยตรงได้</div></div></div></div></div><div data-block-id="4986520f-fe2e-4da3-a76f-f57ea114da15" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราต้องใช้ Function พิเศษในการเปรียบเทียบ ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">bcrypt.compare</span> ซึ่งเป็น Function ที่ Import มาจาก Package <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">bcrypt</span> ที่สามารถเปรียบเทียบระหว่าง Password แบบธรรมดา กับ Password ที่ถูก Encrypt แล้วได้</div></div></div></div></div><div data-block-id="e3bfae72-7bc7-45c1-b0be-f7514efe44ff" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="0" spellcheck="false" class="notion-enable-hover">bcrypt.compare</span> จะ Return ผลลัพธ์ออกมาเป็น <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">true</span> ถ้า Password ตรงกันหรือ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="4" spellcheck="false" class="notion-enable-hover">false</span> ถ้า Password ไม่ตรงกัน</div></div><div data-block-id="daaf9668-7c62-460f-9593-923d979a440e" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดส่วนนี้อยู่ในไฟล์ apps/auth.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> bcrypt </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"bcrypt"</span><span class="" data-token-index="0">

authRouter</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">post</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"/login"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> user </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">await</span><span class="" data-token-index="0"> db</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">collection</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"users"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">find</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
		</span><span class="token literal-property property" data-token-index="0">username</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">body</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">username
	</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">

  </span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token operator" data-token-index="0">!</span><span class="" data-token-index="0">user</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    </span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">status</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">404</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">json</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
			</span><span class="token string-property property" data-token-index="0">"message"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"user not found"</span><span class="" data-token-index="0">
		</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
  </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

	</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> isValidPassword </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">await</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> bcrypt</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">compare</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">req</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">body</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">password</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> user</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">password</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" data-token-index="2">

  </span><span class="token keyword" style="background:rgba(251, 243, 219, 1)" data-token-index="3">if</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">(</span><span class="token operator" style="background:rgba(251, 243, 219, 1)" data-token-index="3">!</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">isValidPassword</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">)</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
		</span><span class="token keyword" style="background:rgba(251, 243, 219, 1)" data-token-index="3">return</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3"> res</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 243, 219, 1)" data-token-index="3">status</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">(</span><span class="token number" style="background:rgba(251, 243, 219, 1)" data-token-index="3">401</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 243, 219, 1)" data-token-index="3">json</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">(</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
			</span><span class="token string-property property" style="background:rgba(251, 243, 219, 1)" data-token-index="3">"message"</span><span class="token operator" style="background:rgba(251, 243, 219, 1)" data-token-index="3">:</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3"> </span><span class="token string" style="background:rgba(251, 243, 219, 1)" data-token-index="3">"password not valid"</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
		</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">}</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">)</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
  </span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="3">}</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
</span><span class="" data-token-index="4">
</span><span class="token punctuation" data-token-index="4">}</span><span class="token punctuation" data-token-index="4">)</span><span class="token punctuation" data-token-index="4">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="91d14416-edab-4ae1-87b4-ab6dd193fd92" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(251, 236, 221, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีส้ม</span> เป็นส่วนที่เปรียบเทียบว่า Password ที่ผู้ใช้ป้อนเข้ามานั้นตรงกับ Password ที่อยู่ใน Database หรือไม่</div></div></div></div></div><div data-block-id="959ec8c0-e48b-4938-b59a-72dd2200362b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(251, 243, 219, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีเหลือง</span> เป็นส่วนที่ระบุว่า ถ้า Password ที่ป้อนเข้ามาไม่ตรงกับ Password ที่อยู่ใน Database ให้ส่ง Response กลับไปว่า Password ไม่ถูกต้อง</div></div></div></div></div></div></div></div><div data-block-id="d6d3087b-ea34-4752-a938-5435f6b46e4d" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 3: Generating a token</div></div></div><div data-block-id="8a292505-010e-442d-afe1-0dc3c5c0c848" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อ Password ตรงกันกับใน Database แล้ว ฝั่ง Server ก็จะต้องสร้าง Token ขึ้นมา</div></div></div></div></div><div data-block-id="9b67f12c-8397-4c12-b419-6bde30656f7a" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">อันดับแรก เราต้องติดตั้ง Package <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jsonwebtoken</span> ด้วย Command <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">npm install jsonwebtoken</span> ใน CLI</div></div></div></div></div><div data-block-id="60a4de85-3a8e-4a90-9c7b-9631f78512e0" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถสร้าง JSON Web Token (JWT) ได้ด้วย Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jwt.sign</span> ซึ่งอยู่ใน Package นี้</div></div></div></div></div><div data-block-id="8c4b9d69-2ca0-48cc-a33e-3476ce4abbb4" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="0" spellcheck="false" class="notion-enable-hover">jwt.sign</span> เป็น Function ที่ใช้สร้าง Token และรับ Parameter สามอัน ได้แก่</div></div><div data-block-id="167b631f-e916-4d30-bfd6-11153cf94749" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-weight:600" data-token-index="0" class="notion-enable-hover">อันแรก</span> เป็นข้อมูลที่จะแนบเข้าไปใน Token</div></div><div data-block-id="f48fe110-391d-4719-b838-92606504e7e6" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ข้อมูลนี้มักรวมรายละเอียดของ User เช่น Id, Username, Email, Role (เช่น Role อาจจะเป็น Admin หรือ Member ธรรมดา)</div></div></div></div></div></div></div></div><div data-block-id="87d57761-b75b-45ef-9265-ab398357152f" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-weight:600" data-token-index="0" class="notion-enable-hover">อันที่สอง</span> จะเป็น Secret Key</div></div><div data-block-id="cf4785ed-3815-49fb-a3ad-81d594abb91b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถสร้าง Secret Key ได้ด้วย Command ด้านล่างนี้ ซึ่งจะสร้าง Random String ก้อนใหญ่ๆ มาใน CLI</div></div></div></div></div><div data-block-id="5b044889-a540-49f3-8ac4-0628cffc3efb" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="" data-token-index="0">node </span><span class="token operator" data-token-index="0">-</span><span class="" data-token-index="0">e "console</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">log</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">require</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'crypto'</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">randomBytes</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">256</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">toString</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'base64'</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">” </span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">PowerShell<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div data-block-id="27b54196-c0e8-4b91-9cb3-ef9f4466d958" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เนื่องจาก Secret Key เป็นข้อมูลที่สำคัญมาก เราจึงไม่ควรเก็บไว้ในไฟล์ปกติ แต่ควรเก็บไว้ใน Environment Variable</div></div><div data-block-id="4ff3bc8c-3f45-494c-afde-e8a0f2940b87" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Environment Variable คือ Variable ที่อยู่ข้างนอกโปรแกรม ซึ่งสามารถนำมาใช้ในโปรแกรมได้ในภายหลัง</div></div></div></div></div><div data-block-id="ab5596fd-6db6-4593-ae6d-ba2ef1100d75" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราจะใช้ Package ที่ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">dotenv</span> ในการสร้าง Environment Variable</div></div><div data-block-id="508112df-a0e9-441c-adaa-0d6f2e48353f" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราติดตั้ง Package นี้ได้ด้วย Command <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">npm install dotenv</span> </div></div></div></div></div></div></div></div></div></div></div><div data-block-id="b84a6d92-ced2-42d8-8eca-81a3e8452776" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ให้สร้างไฟล์ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">.env</span> ขึ้นมา เพื่อใช้เก็บ Environment Variable</div></div><div data-block-id="2e51c8f5-dfd4-42b2-8124-c6a7c58363a5" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ให้เรา Copy ตัว Secret Key ที่ได้สร้างไว้ใน CLI เมื่อกี๊ (ซึ่งอาจจะมีหน้าตาคล้ายๆ กับด้านล่าง) มาเก็บไว้ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">.env</span></div></div></div></div></div><div data-block-id="6428974d-1eee-4749-9eae-bf2911fbabc1" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;">SECRET_KEY=9IHDh9V/2GhxxdmrJNpsHhx2L1A2+dW4I2S9PL21UjVvcaOHpjMAaGbae+aMoe7YK8xKuPpx37pwXH+eb80JWorjAZNxk/rnLyS4m31eDSZgvzkp72fufNzhocbQCVkEgZMk5m4FiWySy+7jzDbeKuuMcM6nsc43vvzkVS9ULF+essC8c38rbDjGtTOv15Q1aht8bsJ8Wmqw7qhS0J6GFS+5IZVfxlmDhrQZsf0ZKEMTVl5xvrMyNMbnWVQT7W+iMera63l9E7vWdHJZF41j+Vq19hgQPJyARZ89jrKWcRNbWUihQwtPpZIhNdlJSE7Am6Q0kcx4Pk6/XV4ZP7Kogw==</div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">Plain Text<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="98360967-5fa0-48b6-921a-c0147a1ca9be" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้น เราจะต้อง Execute ตัว Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">dotenv.config</span> เพื่อให้เราสามารถ Access ตัว Environment Variable ต่างๆ ได้</div></div><div data-block-id="4b27902b-6663-46c1-ae8e-6c270bd136cc" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราจะ Execute <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">dotenv.config</span> ได้ด้วยการเพิ่มโค้ดส่วนที่ Highlight สีส้มด้านล่าง เข้าไปที่ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">app.js</span></div></div></div></div></div><div data-block-id="2d4fd811-55f9-4bfe-af34-075cda493339" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="0">import</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="0"> dotenv </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="0">from</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="0"> </span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="0">"dotenv"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="0">;</span><span class="" data-token-index="1">

</span><span class="token keyword" data-token-index="1">async</span><span class="" data-token-index="1"> </span><span class="token keyword" data-token-index="1">function</span><span class="" data-token-index="1"> </span><span class="token function" data-token-index="1">init</span><span class="token punctuation" data-token-index="1">(</span><span class="token punctuation" data-token-index="1">)</span><span class="" data-token-index="1"> </span><span class="token punctuation" data-token-index="1">{</span><span class="" data-token-index="1">
</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="2">  dotenv</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="2">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="2">config</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="2">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="2">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="2">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="2">
</span><span class="" data-token-index="3">
  </span><span class="token keyword" data-token-index="3">const</span><span class="" data-token-index="3"> app </span><span class="token operator" data-token-index="3">=</span><span class="" data-token-index="3"> </span><span class="token function" data-token-index="3">express</span><span class="token punctuation" data-token-index="3">(</span><span class="token punctuation" data-token-index="3">)</span><span class="token punctuation" data-token-index="3">;</span><span class="" data-token-index="3">
  </span><span class="token keyword" data-token-index="3">const</span><span class="" data-token-index="3"> port </span><span class="token operator" data-token-index="3">=</span><span class="" data-token-index="3"> </span><span class="token number" data-token-index="3">4000</span><span class="token punctuation" data-token-index="3">;</span><span class="" data-token-index="3">
	</span><span class="token comment" data-token-index="3">// ...</span><span class="" data-token-index="3">

</span><span class="token punctuation" data-token-index="3">}</span><span class="" data-token-index="3">
</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="6f416996-b159-40cb-9e54-f7634215fe17" class="notion-selectable notion-callout-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div style="display: flex; width: 100%; border-radius: 3px; background: rgb(251, 243, 219); padding: 16px 16px 16px 12px;"><div><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 24px; width: 24px; border-radius: 0.25em; flex-shrink: 0;"><div style="display: flex; align-items: center; justify-content: center; height: 24px; width: 24px;"><div style="height: 21.6px; width: 21.6px; font-size: 21.6px; line-height: 1; margin-left: 0px; color: black;"><span role="img" aria-label="⚠️" style="font-family: &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, NotoColorEmoji, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols; line-height: 1em; white-space: nowrap;">⚠️</span></div></div></div></div><div style="display: flex; flex-direction: column; min-width: 0px; margin-left: 8px; width: 100%;"><div spellcheck="true" placeholder="Type something…" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding-left: 2px; padding-right: 2px;"><span style="font-weight:600" data-token-index="0" class="notion-enable-hover">Warning</span>
We will <span style="color:inherit;border-bottom:0.05em solid;word-wrap:break-word;font-weight:600" data-token-index="2" class="notion-enable-hover">NOT</span> commit <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="4" spellcheck="false" class="notion-enable-hover">.env</span> onto GitHub, since it has the secret key. Therefore we will need to include <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="6" spellcheck="false" class="notion-enable-hover">.env</span> in <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="8" spellcheck="false" class="notion-enable-hover">.gitignore</span>.</div></div></div></div></div></div></div></div><div data-block-id="ed6a9bc3-ed45-41d8-a33c-7627e4e6da11" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-weight:600" data-token-index="0" class="notion-enable-hover">อันที่สาม</span> จะเป็น Option Object ที่เราสามารถระบุ Option ใส่ลงไปได้ เช่น ในที่นี้เราจะระบุเวลาหมดอายุของ Token</div></div><div data-block-id="c1eccb85-3112-48cd-bd5e-90e8cdd7cfcb" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อถึงเวลาหมดอายุ ผู้ใช้งานก็จะต้องทำการ Login ใหม่อีกครั้ง</div></div></div></div></div><div data-block-id="bae4895a-c74c-4c07-b8de-5902789e3142" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">การตั้งเวลาหมดอายุ จะเพิ่มความปลอดภัยให้กับระบบเรา เพราะว่าผู้ใช้งานจะต้อง Login ใหม่เป็นระยะๆ</div></div></div></div></div><div data-block-id="916fe750-d66d-4ad9-9b2b-b46187515e30" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถระบุเวลาหมดอายุได้ดังนี้</div></div><div data-block-id="b4b5b355-62c0-405a-a7c7-0656a914b1ea" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดส่วนนี้อยู่ในไฟล์ apps/auth.js</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> bcrypt </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"bcrypt"</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> jwt </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"jsonwebtoken"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0"> db </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"../utils/db.js"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

authRouter</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">post</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"/login"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> user </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">await</span><span class="" data-token-index="0"> db</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">collection</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"users"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">find</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
		</span><span class="token literal-property property" data-token-index="0">username</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">body</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">username
	</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">

  </span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token operator" data-token-index="0">!</span><span class="" data-token-index="0">user</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    </span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">status</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">404</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">json</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
			</span><span class="token string-property property" data-token-index="0">"message"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"user not found"</span><span class="" data-token-index="0">
		</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
  </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> isValidPassword </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">await</span><span class="" data-token-index="0"> bcrypt</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">compare</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">body</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">password</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> user</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">password</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

  </span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token operator" data-token-index="0">!</span><span class="" data-token-index="0">isValidPassword</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
		</span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">status</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">401</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">json</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
			</span><span class="token string-property property" data-token-index="0">"message"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"password not valid"</span><span class="" data-token-index="0">
		</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
  </span><span class="token punctuation" data-token-index="0">}</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="1">
</span><span class="" data-token-index="2">	</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">
</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="4">	</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="4">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="4"> token </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="4">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="4"> jwt</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="4">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="4">sign</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="4">(</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="4">
    </span><span class="token punctuation" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">{</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">
			</span><span class="token literal-property property" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">id</span><span class="token operator" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">:</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5"> user</span><span class="token punctuation" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">.</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">id</span><span class="token punctuation" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">,</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">
			</span><span class="token literal-property property" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">firstName</span><span class="token operator" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">:</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5"> user</span><span class="token punctuation" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">.</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">firstName</span><span class="token punctuation" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">,</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">
			</span><span class="token literal-property property" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">lastName</span><span class="token operator" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">:</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5"> user</span><span class="token punctuation" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">.</span><span class="" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">lastName
		</span><span class="token punctuation" style="background:rgba(249, 238, 243, 0.8)" data-token-index="5">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="6">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="6">
    </span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="7">process</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="7">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="7">env</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="7">.</span><span class="token constant" style="background:rgba(231, 243, 248, 1)" data-token-index="7">SECRET_KEY</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="7">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="8">
    </span><span class="token punctuation" style="background:rgba(237, 243, 236, 1)" data-token-index="9">{</span><span class="" style="background:rgba(237, 243, 236, 1)" data-token-index="9">
      </span><span class="token literal-property property" style="background:rgba(237, 243, 236, 1)" data-token-index="9">expiresIn</span><span class="token operator" style="background:rgba(237, 243, 236, 1)" data-token-index="9">:</span><span class="" style="background:rgba(237, 243, 236, 1)" data-token-index="9"> </span><span class="token string" style="background:rgba(237, 243, 236, 1)" data-token-index="9">'900000'</span><span class="token punctuation" style="background:rgba(237, 243, 236, 1)" data-token-index="9">,</span><span class="" style="background:rgba(237, 243, 236, 1)" data-token-index="9">
    </span><span class="token punctuation" style="background:rgba(237, 243, 236, 1)" data-token-index="9">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="10">
  </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="10">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="10">;</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="11">
</span><span class="" data-token-index="12">
</span><span class="token punctuation" data-token-index="12">}</span><span class="token punctuation" data-token-index="12">)</span><span class="token punctuation" data-token-index="12">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="f5eb82d4-cb33-462c-8d6b-dd1cd90fe8b6" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากโค้ดด้านบน</div></div><div data-block-id="5cc3979b-1893-47e1-a48f-c422b9123924" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(251, 236, 221, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีส้ม</span> เป็นส่วนที่ใช้สร้าง Token</div></div></div></div></div><div data-block-id="26f82702-1305-4b18-b835-d70b233ad90a" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(249, 238, 243, 0.8)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีชมพู</span> เป็นส่วนที่ระบุข้อมูลที่จะแนบเข้าไปใน Token</div></div></div></div></div><div data-block-id="aec1fc8b-b791-41da-bfa0-28a59a146b09" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(231, 243, 248, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีฟ้า</span> เป็นส่วนที่ใช้ Object <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">process.env</span> ในการ Access ตัว Environment Variable</div></div></div></div></div><div data-block-id="4455a562-0b1a-4651-9608-33c75d696883" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(237, 243, 236, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีเขียว</span> เป็นส่วนที่ระบุว่าให้ Token ของเราหมดอายุใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">900000</span> ms ซึ่งมีค่าเท่ากับ 15 นาที (หรือ 900 วินาทีนั่นเอง)</div></div></div></div></div></div></div></div><div data-block-id="ea0a5842-fa78-4e72-adf5-e8727c3a085c" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถเข้าถึง Environment Variable ได้ผ่าน Object <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">process.env.&lt;environment-variable-name&gt;</span></div></div></div></div></div></div></div></div><div data-block-id="37c127bc-247a-41a7-a3bd-77fe2b5366b2" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 4: Returning a response with the token</div></div></div><div data-block-id="709bb122-3dd7-4459-a4b6-a820e35aa207" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อสร้าง Token เสร็จเรียบร้อยแล้ว เราจะส่ง Response พร้อม Token ออกไปให้ Client</div></div></div></div></div><div data-block-id="924d5abe-2a10-403d-81bf-845f9d5fa151" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถสร้าง Response ที่บรรจุ Token ได้แบบนี้</div></div><div data-block-id="3e0adab3-fe2a-43d8-9d43-e5ed09a7ba60" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดส่วนนี้อยู่ในไฟล์ apps/auth.js</span><span class="" data-token-index="0">

authRouter</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">post</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"/login"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token comment" data-token-index="0">// ...</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="1">
</span><span class="" data-token-index="2">	</span><span class="token keyword" data-token-index="2">const</span><span class="" data-token-index="2"> token </span><span class="token operator" data-token-index="2">=</span><span class="" data-token-index="2"> jwt</span><span class="token punctuation" data-token-index="2">.</span><span class="token function" data-token-index="2">sign</span><span class="token punctuation" data-token-index="2">(</span><span class="" data-token-index="2">
    </span><span class="token punctuation" data-token-index="2">{</span><span class="" data-token-index="2">
			</span><span class="token literal-property property" data-token-index="2">id</span><span class="token operator" data-token-index="2">:</span><span class="" data-token-index="2"> user</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">id</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2">
			</span><span class="token literal-property property" data-token-index="2">firstName</span><span class="token operator" data-token-index="2">:</span><span class="" data-token-index="2"> user</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">firstName</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2">
			</span><span class="token literal-property property" data-token-index="2">lastName</span><span class="token operator" data-token-index="2">:</span><span class="" data-token-index="2"> user</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">lastName
		</span><span class="token punctuation" data-token-index="2">}</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2">
    process</span><span class="token punctuation" data-token-index="2">.</span><span class="" data-token-index="2">env</span><span class="token punctuation" data-token-index="2">.</span><span class="token constant" data-token-index="2">SECRET_KEY</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2">
    </span><span class="token punctuation" data-token-index="2">{</span><span class="" data-token-index="2">
      </span><span class="token literal-property property" data-token-index="2">expiresIn</span><span class="token operator" data-token-index="2">:</span><span class="" data-token-index="2"> </span><span class="token string" data-token-index="2">'900000'</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2">
    </span><span class="token punctuation" data-token-index="2">}</span><span class="" data-token-index="2">
  </span><span class="token punctuation" data-token-index="2">)</span><span class="token punctuation" data-token-index="2">;</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="3">

</span><span class="" data-token-index="4">	</span><span class="token keyword" style="background:rgba(251, 243, 219, 1)" data-token-index="5">return</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="5"> res</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="5">.</span><span class="token function" style="background:rgba(251, 243, 219, 1)" data-token-index="5">json</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="5">(</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="5">{</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="5"> 
		</span><span class="token literal-property property" style="background:rgba(251, 243, 219, 1)" data-token-index="5">message</span><span class="token operator" style="background:rgba(251, 243, 219, 1)" data-token-index="5">:</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="5"> </span><span class="token string" style="background:rgba(251, 243, 219, 1)" data-token-index="5">"login succesfully"</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="5">,</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="5">
		token 
	</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="5">}</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="5">)</span><span class="" data-token-index="6">
</span><span class="token punctuation" data-token-index="6">}</span><span class="token punctuation" data-token-index="6">)</span><span class="token punctuation" data-token-index="6">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div data-block-id="ccc08d3e-69ec-41dc-8713-b16b7620ffd5" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากโค้ดด้านบน <span style="background:rgba(251, 243, 219, 1)" data-token-index="1" class="notion-enable-hover">ส่วนที่ Highlight สีเหลือง</span> เป็นส่วนที่ส่ง Response ที่มี Token กลับไปให้ Client</div></div></div></div></div></div></div></div><div data-block-id="da20e60a-b4d7-4a80-a069-85ad3f1fb052" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้นให้เราลองใช้ Postman ในการลองสร้าง Request ไปที่ API <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">POST: /auth/login</span> ด้วย Body </div></div><div data-block-id="43fd760a-bcce-46bc-9bd3-7fb18f00f2a3" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token literal-property property" data-token-index="0">username</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"jamestechup"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
	</span><span class="token literal-property property" data-token-index="0">password</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"jamespassword"</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="6526eb9c-8d3d-4759-b866-4e310048f4b5" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราจะเห็น Response ที่ได้กลับมาพร้อมกับ Property <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">token</span></div></div><div data-block-id="14750f44-fdf4-4650-88cb-03ab011462bc" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    </span><span class="token string-property property" data-token-index="0">"message"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"login succesfully"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
    </span><span class="token string-property property" data-token-index="0">"token"</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJmaXJzdE5hbWUiOiJKYW1lcyIsImxhc3ROYW1lIjoiVGVjaFVwIiwiaWF0IjoxNjQ5OTIzODQ3LCJleHAiOjE2NTA4MjM4NDd9.xyD6j0TKhIPq4QlIz_tR7ms25ZDBcJY_W2uq8a12cMs"</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="c9f52e25-46bd-46f4-9f6c-8618ef85c6b5" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 5: Storing a token in the web browser’s local storage</div></div></div><div data-block-id="a2e108e8-b99e-48c4-a1be-127671036543" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อได้สร้าง Login API เสร็จแล้ว ผู้ใช้งานก็จะสามารถลงชื่อเข้าใช้งานเว็บไซต์ผ่าน Front End ได้</div></div><div data-block-id="5960969f-7910-400d-aa59-8209a37e617b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เวลาที่ผู้ใช้ทำการ Login นั้น ส่วน Front End ก็จะต้องสร้าง Request แล้วส่ง Credentials ที่ผู้ใช้ป้อนเข้ามา ไปที่ API <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">POST: /auth/login</span></div></div></div></div></div><div data-block-id="b137b1eb-888d-4cd9-a099-61c20facc696" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถใส่ API นี้เข้าไปใน Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">login</span> ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">AuthContext</span> ได้แบบนี้</div></div><div data-block-id="e9b863a0-279a-4cac-9255-ed9475e2602f" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/contexts/authentication.js</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token function-variable function" data-token-index="0">login</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">data</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">await</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> axios</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">post</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"http://localhost:4000/auth/login"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> data</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" data-token-index="2">
</span><span class="token punctuation" data-token-index="2">}</span><span class="token punctuation" data-token-index="2">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div data-block-id="95c98ffe-b715-4cc2-8bbd-7d6afe770797" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ส่วนที่ <span style="background:rgba(251, 236, 221, 1)" data-token-index="1" class="notion-enable-hover">Highlight สีส้ม </span>เป็นส่วนที่สร้าง Request ไปหา Server พร้อมกับ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">data</span></div></div></div></div></div></div></div></div></div></div></div><div data-block-id="90cb5f37-64a1-437a-a4c8-47b94e88ddfe" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้าการ Login เสร็จสมบูรณ์ ฝั่ง Server ก็จะส่ง Token กลับมาใน Response และเราต้องเอา Token นี้ไปเก็บใน Local Storage</div></div><div data-block-id="22dac223-f53b-468e-9aa2-d074d065285b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถนำ Token ไปเก็บใน Local Storage ได้ด้วย Built-in Function จาก Web Browser ที่ชื่อว่า  <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">localStorage.setItem</span> </div></div><div data-block-id="59703d15-b182-4ad5-b027-26c19b6f87b3" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/contexts/authentication.js</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token function-variable function" data-token-index="0">login</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">data</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> result </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">await</span><span class="" data-token-index="0"> axios</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">post</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"http://localhost:4000/auth/login"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> data</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">	</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> token </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> result</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">data</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">token</span><span class="" data-token-index="2">
</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">	localStorage</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">setItem</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="3">"token"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> token</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="" data-token-index="4">
</span><span class="token punctuation" data-token-index="4">}</span><span class="token punctuation" data-token-index="4">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div data-block-id="94329cf0-934c-444e-b622-01eccd999b99" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ส่วนที่ <span style="background:rgba(251, 236, 221, 1)" data-token-index="1" class="notion-enable-hover">Highlight สีส้ม</span> เป็นการนำ Token ที่ได้มาจาก Response ของ Server ไปเก็บไว้ใน Local Storage</div></div></div></div></div></div></div></div><div data-block-id="7609a503-79ad-4d99-9f1b-333ef90b34ff" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เนื่องจาก Token มีข้อมูลผู้ใช้แนบไว้ด้วย เราจึงต้องนำข้อมูลนี้ไปเก็บไว้ใน State <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">user</span> ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">AuthContext</span> เพื่อจะได้เอาไปใช้แสดงผลได้ในภายหลัง (เช่น อาจจะต้องแสดงผล First Name บนหน้าเว็บเพื่อต้อนรับผู้ใข้งาน)</div></div><div data-block-id="6a274746-76c3-4c31-ab5d-fc8e9b5914ac" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถใช้ Package ที่ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jwt-decode</span> เพื่อดึงข้อมูลผู้ใช้ออกมาจาก Token ได้</div></div></div></div></div><div data-block-id="55e5de81-3477-4a59-bcd8-17fe682cf2e3" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถติดตั้ง Package นี้ได้ด้วย <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">npm install jwt-decode</span> แล้วนำมาใช้ได้แบบนี้</div></div></div></div></div><div data-block-id="d2574434-e360-46ad-ada3-14534d16afb2" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/contexts/authentication.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> jwtDecode </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"jwt-decode"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token function-variable function" data-token-index="0">login</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">data</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> result </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">await</span><span class="" data-token-index="0"> axios</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">post</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"http://localhost:4000/auth/login"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> data</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> token </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> result</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">data</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">token
	localStorage</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">set</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"token"</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> token</span><span class="token punctuation" data-token-index="0">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
	</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> userDataFromToken </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">jwtDecode</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">token</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
	</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">setState</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">...</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">state</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token literal-property property" style="background:rgba(251, 236, 221, 1)" data-token-index="1">user</span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">:</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> userDataFromToken </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
</span><span class="" data-token-index="2">  </span><span class="token function" data-token-index="2">navigate</span><span class="token punctuation" data-token-index="2">(</span><span class="token string" data-token-index="2">"/"</span><span class="token punctuation" data-token-index="2">)</span><span class="token punctuation" data-token-index="2">;</span><span class="" data-token-index="2">
</span><span class="token punctuation" data-token-index="2">}</span><span class="token punctuation" data-token-index="2">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="a552ce76-0e53-4040-b33a-cf629632d55b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถัดมา เราจะใช้ Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">login</span> มาใส่ Component <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">LoginPage</span> เพื่อทำให้ผู้ใช้งานสามารถ แล้วคลิกปุ่ท Login เข้าใช้งานเว็บไซต์ได้ หลังจากกรอก Username และ Password ลงใน Login Form เสร็จแล้ว</div></div><div data-block-id="4048cb46-32fc-406e-8a8e-bbee081e9f2e" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="0" spellcheck="false" class="notion-enable-hover">login</span> จะอยู่ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">useAuth</span> ดังนั้นเราจะต้อง Import <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="4" spellcheck="false" class="notion-enable-hover">useAuth</span> มาจาก <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="6" spellcheck="false" class="notion-enable-hover">contexts/authentication.js</span> ก่อน</div></div></div></div></div><div data-block-id="c20aa075-b807-4b6d-ab0d-47ea8361c933" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">หลังจากนั้น ให้นำ Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">login</span> ไปใช้ใน Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">handleSubmit</span> ตามในส่วนที่ <span style="background:rgba(251, 236, 221, 1)" data-token-index="5" class="notion-enable-hover">Highlight สีส้มด้านล่าง</span></div></div></div></div></div><div data-block-id="afbb9f90-16c9-48f0-b5f0-25a0f4dd4137" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/pages/LoginPage.js</span><span class="" data-token-index="0">
</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">import</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> useAuth </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">from</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"../contexts/authentication"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" data-token-index="2">

</span><span class="token keyword" data-token-index="2">function</span><span class="" data-token-index="2"> </span><span class="token function" data-token-index="2">LoginPage</span><span class="token punctuation" data-token-index="2">(</span><span class="token punctuation" data-token-index="2">)</span><span class="" data-token-index="2"> </span><span class="token punctuation" data-token-index="2">{</span><span class="" data-token-index="2">
  </span><span class="token keyword" data-token-index="2">const</span><span class="" data-token-index="2"> </span><span class="token punctuation" data-token-index="2">[</span><span class="" data-token-index="2">username</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2"> setUsername</span><span class="token punctuation" data-token-index="2">]</span><span class="" data-token-index="2"> </span><span class="token operator" data-token-index="2">=</span><span class="" data-token-index="2"> </span><span class="token function" data-token-index="2">useState</span><span class="token punctuation" data-token-index="2">(</span><span class="token string" data-token-index="2">""</span><span class="token punctuation" data-token-index="2">)</span><span class="token punctuation" data-token-index="2">;</span><span class="" data-token-index="2">
  </span><span class="token keyword" data-token-index="2">const</span><span class="" data-token-index="2"> </span><span class="token punctuation" data-token-index="2">[</span><span class="" data-token-index="2">password</span><span class="token punctuation" data-token-index="2">,</span><span class="" data-token-index="2"> setPassword</span><span class="token punctuation" data-token-index="2">]</span><span class="" data-token-index="2"> </span><span class="token operator" data-token-index="2">=</span><span class="" data-token-index="2"> </span><span class="token function" data-token-index="2">useState</span><span class="token punctuation" data-token-index="2">(</span><span class="token string" data-token-index="2">""</span><span class="token punctuation" data-token-index="2">)</span><span class="token punctuation" data-token-index="2">;</span><span class="" data-token-index="2">
 
</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="3">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> login </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="3">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">useAuth</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">

  </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="3">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token function-variable function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">handleSubmit</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="3">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token parameter" style="background:rgba(251, 236, 221, 1)" data-token-index="3">event</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="3">=&gt;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
    event</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">preventDefault</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
    </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">login</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
      username</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
      password</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
    </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
  </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" data-token-index="4">

	</span><span class="token keyword" data-token-index="4">const</span><span class="" data-token-index="4"> </span><span class="token function-variable function" data-token-index="4">handleSubmit</span><span class="" data-token-index="4"> </span><span class="token operator" data-token-index="4">=</span><span class="" data-token-index="4"> </span><span class="token punctuation" data-token-index="4">(</span><span class="token parameter" data-token-index="4">event</span><span class="token punctuation" data-token-index="4">)</span><span class="" data-token-index="4"> </span><span class="token operator" data-token-index="4">=&gt;</span><span class="" data-token-index="4"> </span><span class="token punctuation" data-token-index="4">{</span><span class="" data-token-index="4">
	  event</span><span class="token punctuation" data-token-index="4">.</span><span class="token function" data-token-index="4">preventDefault</span><span class="token punctuation" data-token-index="4">(</span><span class="token punctuation" data-token-index="4">)</span><span class="token punctuation" data-token-index="4">;</span><span class="" data-token-index="4">
	  </span><span class="token function" data-token-index="4">login</span><span class="token punctuation" data-token-index="4">(</span><span class="token punctuation" data-token-index="4">{</span><span class="" data-token-index="4">
	    username</span><span class="token punctuation" data-token-index="4">,</span><span class="" data-token-index="4">
	    password</span><span class="token punctuation" data-token-index="4">,</span><span class="" data-token-index="4">
	  </span><span class="token punctuation" data-token-index="4">}</span><span class="token punctuation" data-token-index="4">)</span><span class="token punctuation" data-token-index="4">;</span><span class="" data-token-index="4">
	</span><span class="token punctuation" data-token-index="4">}</span><span class="token punctuation" data-token-index="4">;</span><span class="" data-token-index="4">

	</span><span class="token comment" data-token-index="4">//...</span><span class="" data-token-index="4">
</span><span class="token punctuation" data-token-index="4">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="9b189738-c131-4e39-858b-1e0f066f05b8" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 6: Sending a request with a token</div></div></div><div data-block-id="c41cb0f9-604e-4e1d-ab81-52656dacedb8" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในขั้นตอนนี้ เราจะใช้ <span style="font-weight:600" data-token-index="1" class="notion-enable-hover">Axios Interceptor </span>เพื่อสร้าง Request พร้อมกับแนบ Token เข้าไปใน Header </div></div><div data-block-id="17614527-e917-429e-9048-9680c7015f3b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Axios Interceptor เป็น Function ที่ Axios จะเรียกใช้ทุกครั้งเวลาสร้าง Request ไปหา Server หรือ ได้รับ Response มาจาก Server</div></div></div></div></div></div></div></div><div data-block-id="19fde127-456f-42da-a869-874af4371035" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถระบุ Function ที่จะให้ Axios เรียกใช้<span style="color:inherit;border-bottom:0.05em solid;word-wrap:break-word;font-weight:600" data-token-index="1" class="notion-enable-hover">ทุกครั้งเวลาที่สร้าง Request ไปหา Server</span> ด้วย <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">axios.interceptors.request.use</span> ซึ่งเป็น Function ที่มี Parameter สองอัน ได้แก่</div></div><div data-block-id="d569dd22-27bb-41ba-93e5-f5c7108b722c" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Callback Function ที่จะให้ Axios เรียกใช้ทุกครั้ง<span style="font-weight:600" data-token-index="1" class="notion-enable-hover"> เวลาสร้าง Request ไปหา Server</span></div></div></div></div></div><div data-block-id="6d29464d-d6ad-444a-8afc-a9ec9b584e72" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Callback Function ที่จะให้ Axios เรียกใช้ทุกครั้ง <span style="font-weight:600" data-token-index="1" class="notion-enable-hover">เวลาที่ส่ง Request ไปไม่ถึง Server</span></div></div></div></div></div></div></div></div><div data-block-id="34cda7e0-c1a6-4ea5-aeb4-8e4ab43ce702" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถระบุ Function ที่จะให้ Axios เรียกใช้ทุกครั้ง<span style="color:inherit;border-bottom:0.05em solid;word-wrap:break-word;font-weight:600" data-token-index="1" class="notion-enable-hover">ตอนที่ได้รับ Response จาก Server </span>ด้วย <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">axios.interceptors.response.use</span> ซึ่งเป็น Function ที่มี Parameter สองอัน ได้แก่</div></div><div data-block-id="1ac7fe7a-38d1-4283-afc0-840741f5acc3" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Callback Function ที่จะให้ Axios เรียกใช้ทุกครั้ง <span style="font-weight:600" data-token-index="1" class="notion-enable-hover">เวลาได้รับ Response มาจาก Server</span></div></div></div></div></div><div data-block-id="db3774f0-05e1-4495-a3f0-7238283cfce5" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Callback Function ที่จะให้ Axios เรียกใช้ทุกครั้ง เวลาได้รับ <span style="font-weight:600" data-token-index="1" class="notion-enable-hover">Error</span> <span style="font-weight:600" data-token-index="3" class="notion-enable-hover">Response มาจาก Serve</span></div></div></div></div></div></div></div></div><div data-block-id="c1b60652-1103-409d-94d4-ce73378707bd" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ดังนั้น ถ้าเราอยากแนบ Token ไปกับ Header ในทุกครั้งที่สร้าง Request ก็ต้องใช้ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">axios.interceptors.request.use</span> แล้วระบุ Callback Function ไปเฉพาะใน Parameter อันแรกออันเดียว</div></div><div data-block-id="53a70745-7a11-423c-b14f-42ad6c804db6" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราเริ่มจากการสร้างไฟล์ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jwtInterceptor.js</span> ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">client/src/utils</span> แล้ว Declare ตัว Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="5" spellcheck="false" class="notion-enable-hover">jwtInterceptor</span> ซึ่งเป็น Function ที่จะ Execute ตัว Axios Interceptor ดังนี้</div></div></div></div></div><div data-block-id="58e5e62d-f4bf-4227-bdfd-4629e2e37df6" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 4px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/utils/jwtInterceptors.js</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">jwtInterceptor</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  axios</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">interceptors</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">request</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">use</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">
    </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
      </span><span class="token keyword" style="background:rgba(231, 243, 248, 1)" data-token-index="1">const</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="1"> hasToken </span><span class="token operator" style="background:rgba(231, 243, 248, 1)" data-token-index="1">=</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="1"> </span><span class="token function" style="background:rgba(231, 243, 248, 1)" data-token-index="1">Boolean</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="1">(</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="1">window</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="1">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="1">localStorage</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(231, 243, 248, 1)" data-token-index="1">getItem</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="1">(</span><span class="token string" style="background:rgba(231, 243, 248, 1)" data-token-index="1">"token"</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="1">;</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="1">
</span><span class="" data-token-index="2">
      </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="3">if</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">hasToken</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
        req</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">headers </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="3">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
          </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="3">...</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">req</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">headers</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
          </span><span class="token literal-property property" style="background:rgba(251, 236, 221, 1)" data-token-index="3">Authorization</span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="3">:</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token template-punctuation string" style="background:rgba(251, 236, 221, 1)" data-token-index="3">`</span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="3">Bearer </span><span class="token interpolation-punctuation punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">${</span><span class="token interpolation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">window</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">.</span><span class="token interpolation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">localStorage</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">getItem</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="3">"token"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token interpolation-punctuation punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">}</span><span class="token template-punctuation string" style="background:rgba(251, 236, 221, 1)" data-token-index="3">`</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
        </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
      </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
</span><span class="" data-token-index="4">
      </span><span class="token keyword" data-token-index="4">return</span><span class="" data-token-index="4"> req</span><span class="token punctuation" data-token-index="4">;</span><span class="" data-token-index="4">
    </span><span class="token punctuation" data-token-index="4">}</span><span class="" data-token-index="4">
  </span><span class="token punctuation" data-token-index="4">)</span><span class="token punctuation" data-token-index="4">;</span><span class="" data-token-index="4">
</span><span class="token punctuation" data-token-index="4">}</span><span class="" data-token-index="4">

</span><span class="token keyword" data-token-index="4">export</span><span class="" data-token-index="4"> </span><span class="token keyword" data-token-index="4">default</span><span class="" data-token-index="4"> jwtInterceptor</span><span class="token punctuation" data-token-index="4">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div><div data-block-id="3e78f6f1-ecdf-4743-8ea8-855736e30d0a" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในโค้ดด้านบน</div></div><div data-block-id="665ad910-0baa-4750-b603-5002ea71ff0e" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ส่วนท่ี <span style="background:rgba(231, 243, 248, 1)" data-token-index="1" class="notion-enable-hover">Highlight สีฟ้า</span> เป็นส่วนที่ตรวจสอบว่ามี Token อยู่ใน Local Storage หรือไม่</div></div></div></div></div><div data-block-id="055d6ed5-6859-4508-bd1c-3fe9981f29d5" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ส่วนที่ <span style="background:rgba(251, 236, 221, 1)" data-token-index="1" class="notion-enable-hover">Highlight สีส้ม</span> ระบุว่า ถ้ามี Token อยู่ใน Local Storage ก็ให้เอา Token นี้ใส่ไปใน Property <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">Authorization</span> ของ Object <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="5" spellcheck="false" class="notion-enable-hover">req.headers</span></div></div></div></div></div></div></div></div></div></div></div><div data-block-id="4bfd7360-342a-44c4-8521-497d7de2e371" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถัดมา เราจะเอา <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jwtInterceptor</span> นี้ไปใช้ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">client/src/index.js</span> ในส่วนที่ <span style="background:rgba(251, 236, 221, 1)" data-token-index="5" class="notion-enable-hover">Highlight สีส้ม</span> ด้านล่าง</div></div><div data-block-id="f35a06d8-d90d-4f82-b0b4-4c2484d3f0e2" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/index.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> React </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"react"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> ReactDOM </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"react-dom"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./index.css"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0"> BrowserRouter </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"react-router-dom"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> App </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./App"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> reportWebVitals </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./reportWebVitals"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0"> AuthProvider </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"./contexts/authentication"</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">import</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> jwtInterceptor </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">from</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"./utils/jwtInterceptor"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" data-token-index="2">

</span><span class="token comment" data-token-index="2">// Attach token in header of every request</span><span class="" data-token-index="2">
</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">jwtInterceptor</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" data-token-index="4">

ReactDOM</span><span class="token punctuation" data-token-index="4">.</span><span class="token function" data-token-index="4">render</span><span class="token punctuation" data-token-index="4">(</span><span class="" data-token-index="4">
  </span><span class="token punctuation" data-token-index="4">&lt;</span><span class="token class-name" data-token-index="4">React.StrictMode</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
    </span><span class="token punctuation" data-token-index="4">&lt;</span><span class="token class-name" data-token-index="4">BrowserRouter</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
      </span><span class="token punctuation" data-token-index="4">&lt;</span><span class="token class-name" data-token-index="4">AuthProvider</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
        </span><span class="token punctuation" data-token-index="4">&lt;</span><span class="token class-name" data-token-index="4">App</span><span class="token tag" data-token-index="4"> </span><span class="token punctuation" data-token-index="4">/&gt;</span><span class="token plain-text" data-token-index="4">
      </span><span class="token punctuation" data-token-index="4">&lt;/</span><span class="token class-name" data-token-index="4">AuthProvider</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
    </span><span class="token punctuation" data-token-index="4">&lt;/</span><span class="token class-name" data-token-index="4">BrowserRouter</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
  </span><span class="token punctuation" data-token-index="4">&lt;/</span><span class="token class-name" data-token-index="4">React.StrictMode</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token punctuation" data-token-index="4">,</span><span class="" data-token-index="4">
  document</span><span class="token punctuation" data-token-index="4">.</span><span class="token function" data-token-index="4">getElementById</span><span class="token punctuation" data-token-index="4">(</span><span class="token string" data-token-index="4">"root"</span><span class="token punctuation" data-token-index="4">)</span><span class="" data-token-index="4">
</span><span class="token punctuation" data-token-index="4">)</span><span class="token punctuation" data-token-index="4">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="8b4bf160-7f1d-4ec6-bdb6-0d171c32f64c" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้น ให้เราไปลองเปิด Google Chrome Dev Tools แล้ว Inspect ดู Request ใน Network Tab</div></div><div data-block-id="054df16b-7dc7-4042-81ea-0c46650e68a7" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้าสังเกตตรง Header ของ Request เราก็จะเห็น Property ที่ชื่อ Authorization ซึ่งบรรจุ Token ไว้ ในส่วนที่ตีกรอบสีน้ำเงินด้านล่าง</div></div></div></div></div><div data-block-id="7c886865-79bf-4c64-87e1-4c4584fe2623" class="notion-selectable notion-image-block" style="width: 100%; max-width: 100%; align-self: flex-start; margin-top: 4px; margin-bottom: 0px;"><div contenteditable="false" data-content-editable-void="true"><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div><div style="height: 100%; width: 100%;"><img src="./JSON Web Token (JWT)_files/Screen_Shot_2022-04-14_at_21.27.12.png" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 1px; pointer-events: auto; width: 100%;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="835316ed-fe5f-4ffe-92b5-00d9f3e61dfc" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อ Token หมดอายุ ถ้า Request ไปหา Server ก็จะได้ Response กลับมาพร้อม <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">message</span> ว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">“Token is invalid”</span></div></div><div data-block-id="14dcdeec-2a4d-41e0-a1b1-9d7465992eba" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เมื่อเกิดเหตุการณ์นี้ ฝั่ง Front End ก็ควรจะ Redirect ไปที่หน้า Login เพื่อให้ผู้ใช้ทำการ Login อีกครั้ง</div></div></div></div></div><div data-block-id="b35f75f6-fee6-4970-9798-a96b73c1ac61" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถ Setup การ Redirect เช่นนี้ได้ โดยใช้ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">axios.interceptors.response.use</span><span style="font-style:italic" data-token-index="2" class="notion-enable-hover"> </span>แล้วใส่ Callback Function ทั้งใน Parameter ตัวที่ 1 และ 2 แบบนี้</div></div><div data-block-id="221739dd-517f-45c8-b971-866c44381b00" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/utils/jwtInterceptor.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">function</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">jwtInterceptor</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
  axios</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">interceptors</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">request</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">use</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">
    </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
      </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> hasToken </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token function" data-token-index="0">Boolean</span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">window</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">localStorage</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">getItem</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"token"</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

      </span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="" data-token-index="0">hasToken</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
        req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">headers </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
          </span><span class="token operator" data-token-index="0">...</span><span class="" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">headers</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
          </span><span class="token literal-property property" data-token-index="0">Authorization</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token template-punctuation string" data-token-index="0">`</span><span class="token string" data-token-index="0">Bearer </span><span class="token interpolation-punctuation punctuation" data-token-index="0">${</span><span class="token interpolation" data-token-index="0">window</span><span class="token punctuation" data-token-index="0">.</span><span class="token interpolation" data-token-index="0">localStorage</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">getItem</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"token"</span><span class="token punctuation" data-token-index="0">)</span><span class="token interpolation-punctuation punctuation" data-token-index="0">}</span><span class="token template-punctuation string" data-token-index="0">`</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0">
        </span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
      </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

      </span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">
    </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">
  </span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

	</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">axios</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">interceptors</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">response</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">use</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
    </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token parameter" style="background:rgba(251, 236, 221, 1)" data-token-index="1">req</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=&gt;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
      </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">return</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> req</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
    </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
    </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token parameter" style="background:rgba(251, 236, 221, 1)" data-token-index="1">error</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=&gt;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
      </span><span class="token keyword" style="background:rgba(231, 243, 248, 1)" data-token-index="2">if</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">(</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
        error</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">response</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">status </span><span class="token operator" style="background:rgba(231, 243, 248, 1)" data-token-index="2">===</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token number" style="background:rgba(231, 243, 248, 1)" data-token-index="2">401</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token operator" style="background:rgba(231, 243, 248, 1)" data-token-index="2">&amp;&amp;</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
        error</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">response</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">statusText </span><span class="token operator" style="background:rgba(231, 243, 248, 1)" data-token-index="2">===</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token string" style="background:rgba(231, 243, 248, 1)" data-token-index="2">"Unauthorized"</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
      </span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">)</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">{</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
        window</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">localStorage</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="token function" style="background:rgba(231, 243, 248, 1)" data-token-index="2">removeItem</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">(</span><span class="token string" style="background:rgba(231, 243, 248, 1)" data-token-index="2">"token"</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">)</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">;</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
        window</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">location</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="token function" style="background:rgba(231, 243, 248, 1)" data-token-index="2">replace</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">(</span><span class="token string" style="background:rgba(231, 243, 248, 1)" data-token-index="2">"/"</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">)</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">;</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
      </span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
    </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
  </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" data-token-index="4">

</span><span class="token punctuation" data-token-index="4">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="b4027a0a-7392-481d-82c8-6bdba885dc07" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในโค้ดด้านบน</div></div><div data-block-id="9f812d32-d916-42b1-bf9b-085ca0446fb2" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(231, 243, 248, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีฟ้า</span> เป็นส่วนที่ตรวจสอบ Response ว่า Token ของเรา Invalid หรือไม่</div></div><div data-block-id="0743a8f8-11bd-4c78-b6fb-69138a4db4d0" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถทำการตรวจสอบนี้ได้ด้วยข้อมูล 2 ชิ้น </div></div><div data-block-id="5cf6c383-46d4-4b39-8440-1e30e0f439ca" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="0" spellcheck="false" class="notion-enable-hover">error.response.status</span> ที่เป็น <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">401</span></div></div></div></div></div><div data-block-id="4e36563a-2e0d-4070-91ac-914002aa514d" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">และ  <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">error.response.statusText</span> ที่เป็น <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">Unauthorized</span> </div></div></div></div></div></div></div></div></div></div></div><div data-block-id="5971b764-c8ec-490e-a0ac-4d5cbb7825a2" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้าข้อมูลทั้ง 2 ชิ้นนี้เป็นตามที่เขียนไว้ข้างต้น เราก็จะลบ Token ออกจาก Local Storage และ Redirect ไปที่หน้า Login ด้วย Built-in Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">window.localtion.replace</span> แล้วใส่ Parameter เป็น <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">/login</span></div></div></div></div></div></div></div></div></div></div></div><div data-block-id="7db6fd74-cfb0-4be6-91fd-242cbf399b56" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Step 7: Validating a token with the secret key</div></div></div><div data-block-id="3342d88a-d55d-4975-b8a4-c86be66a0360" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ต่อมา เราจะกำหนดให้ API ต่างๆ บน Server ตอบสนอง<span style="color:inherit;border-bottom:0.05em solid;word-wrap:break-word;font-weight:600" data-token-index="1" class="notion-enable-hover">เฉพาะ Request ที่มี Token แนบมาใน Header ด้วยเท่านั้น</span></div></div><div data-block-id="88133fa1-4534-479e-b69c-532205bff77d" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Header ของ Request จะเก็บข้อมูลในรูปแบบ Key-Value Pair</div></div></div></div></div><div data-block-id="53ed77a6-5a01-4fc2-ab4d-3b98481b5077" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เรามักแนบ Token ไว้ใน Property ที่ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">authorization</span></div></div></div></div></div><div data-block-id="3b2f0d57-8005-47f1-abf3-c03fd1e8933a" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">และ Value ของ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">authorization</span> ก็จะมีรูปแบบ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">Bearer &lt;token&gt;</span></div></div><div data-block-id="eea6874d-bf03-4221-965a-6c55953887aa" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="0" spellcheck="false" class="notion-enable-hover">&lt;token&gt;</span> คือ JWT token ที่ได้มาจาก Response ตอนที่ Login สำเร็จ</div></div></div></div></div></div></div></div></div></div></div><div data-block-id="f767dc40-5620-4576-8828-c587692a82d0" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราจะสร้าง Middleware ไว้ตรวจสอบ Request โดยการเช็คเงื่อนไขสองอย่างต่อไปนี้</div></div><div data-block-id="5fcd7615-40f2-47f0-9da5-ef1bbc242fbd" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เงื่อนไขแรก คือมีการแนบ Token ไว้ใน Header</div></div></div></div></div><div data-block-id="3b9e545e-58d1-459d-b821-4f0beb3ef1b5" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เงื่อนไขที่สอง คือ Token ที่แนบมานั้นต้อง Valid (ถูกต้อง)</div></div></div></div></div><div data-block-id="18d3eacd-918e-44f8-8c79-044b8ffcd9cd" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้าผ่านเงื่อนไขทั้งสองข้อ ฝั่ง Server ก็จะส่ง Response กลับไป แต่ถ้าไม่ผ่านเงื่อนไข ฝั่ง Server ก็จะส่ง Response กลับไปบอก Client ว่าไม่สามารถขอข้อมูลได้ เนื่องจาก Token ไม่ Valid</div></div></div></div></div></div></div></div><div data-block-id="0cd6b721-9d2f-4bf8-969c-7c68e217ca63" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถสร้าง Middleware นี้ได้ตามขั้นตอนต่อไปนี้</div></div><div data-block-id="101b3c52-9df9-4f87-847c-db22e5b4ca63" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราจะสร้าง Middleware ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">protect</span> ด้วยโค้ดด้านล่าง ซึ่ง Middleware นี้จะตรวจสอบว่า</div></div><div data-block-id="870878ba-7abb-4d93-bc96-a10d8d72d912" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">มี Token แนบมาใน Header ของ Request หรือไม่</div></div></div></div></div><div data-block-id="446e515a-f0d8-4059-9677-9ddf4883ed56" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">และ Token ที่แนบมา มีรูปแบบที่ถูกต้อง (<span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">Bearer &lt;token&gt;</span>) หรือไม่</div></div></div></div></div></div></div></div><div data-block-id="ee1fe177-d5d9-4071-9d6c-bfb548a9822b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถ้าไม่ผ่านสองเงื่อนไขนี้ ก็จะ Return ตัว Response กลับไปพร้อม <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">message</span> ว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">Token has invalid format</span></div></div><div data-block-id="3e545e5e-eecc-4c02-ad6c-e7cefdbca6c1" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="" data-token-index="0">
</span><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ server/middlewares/protect.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">export</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token function-variable function" data-token-index="0">protect</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> next</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> token </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">headers</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">authorization

  </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">if</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">!</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">token </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">||</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">!</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">token</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">startsWith</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">'Bearer '</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
    </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">return</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> res</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">status</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token number" style="background:rgba(251, 236, 221, 1)" data-token-index="1">401</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">json</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
			</span><span class="token literal-property property" style="background:rgba(251, 236, 221, 1)" data-token-index="1">message</span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">:</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"Token has invalid format"</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
		</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
  </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="" data-token-index="2">

	
</span><span class="token punctuation" data-token-index="2">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="47c43ab4-7fb2-4e2f-b7a1-57b042443036" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถัดมา เราจะใช้ Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jwt.verify</span> จาก Package <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">jsonwebtoken</span> เพื่อตรวจสอบว่า Token นั้นมีความถูกต้องหรือหมดอายุหรือไม่ ตามโค้ดต่อไปนี้</div></div><div data-block-id="905e52f1-80e0-4915-ab95-bf0b96ed26e0" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ server/middlewares/protect.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">import</span><span class="" data-token-index="0"> jwt </span><span class="token keyword" data-token-index="0">from</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">'jsonwebtoken'</span><span class="" data-token-index="0">

</span><span class="token keyword" data-token-index="0">export</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token function-variable function" data-token-index="0">protect</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">async</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token parameter" data-token-index="0">req</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">,</span><span class="token parameter" data-token-index="0"> next</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> token </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> req</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">headers</span><span class="token punctuation" data-token-index="0">.</span><span class="" data-token-index="0">authorization

  </span><span class="token keyword" data-token-index="0">if</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token operator" data-token-index="0">!</span><span class="" data-token-index="0">token </span><span class="token operator" data-token-index="0">||</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">!</span><span class="" data-token-index="0">token</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">startsWith</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">'Bearer '</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
    </span><span class="token keyword" data-token-index="0">return</span><span class="" data-token-index="0"> res</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">status</span><span class="token punctuation" data-token-index="0">(</span><span class="token number" data-token-index="0">401</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">json</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
			</span><span class="token literal-property property" data-token-index="0">message</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token string" data-token-index="0">"Token has invalid format"</span><span class="" data-token-index="0">
		</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
  </span><span class="token punctuation" data-token-index="0">}</span><span class="" data-token-index="0">

	</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> tokenWithoutBearer </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> token</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">split</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">" "</span><span class="token punctuation" data-token-index="0">)</span><span class="token punctuation" data-token-index="0">[</span><span class="token number" data-token-index="0">1</span><span class="token punctuation" data-token-index="0">]</span><span class="token punctuation" data-token-index="0">;</span><span class="" data-token-index="0">

 </span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> jwt</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="1">verify</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">tokenWithoutBearer</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> process</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">env</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">.</span><span class="token constant" style="background:rgba(251, 236, 221, 1)" data-token-index="1">SECRET_KEY</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">(</span><span class="token parameter" style="background:rgba(251, 236, 221, 1)" data-token-index="1">err</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">,</span><span class="token parameter" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> payload</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">)</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="1">=&gt;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1">
   </span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token keyword" style="background:rgba(231, 243, 248, 1)" data-token-index="2">if</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">(</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">err</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">)</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">{</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
      </span><span class="token keyword" style="background:rgba(231, 243, 248, 1)" data-token-index="2">return</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> res</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="token function" style="background:rgba(231, 243, 248, 1)" data-token-index="2">status</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">(</span><span class="token number" style="background:rgba(231, 243, 248, 1)" data-token-index="2">401</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">)</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">.</span><span class="token function" style="background:rgba(231, 243, 248, 1)" data-token-index="2">json</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">(</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">{</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
        </span><span class="token literal-property property" style="background:rgba(231, 243, 248, 1)" data-token-index="2">message</span><span class="token operator" style="background:rgba(231, 243, 248, 1)" data-token-index="2">:</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2"> </span><span class="token string" style="background:rgba(231, 243, 248, 1)" data-token-index="2">"Token is invalid"</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">,</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
      </span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">}</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">)</span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">;</span><span class="" style="background:rgba(231, 243, 248, 1)" data-token-index="2">
    </span><span class="token punctuation" style="background:rgba(231, 243, 248, 1)" data-token-index="2">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">
    </span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="4">req</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="4">.</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="4">user </span><span class="token operator" style="background:rgba(251, 243, 219, 1)" data-token-index="4">=</span><span class="" style="background:rgba(251, 243, 219, 1)" data-token-index="4"> payload</span><span class="token punctuation" style="background:rgba(251, 243, 219, 1)" data-token-index="4">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="5">
    </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="5">next</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">;</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="5">
  </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">;</span><span class="" data-token-index="6">
</span><span class="token punctuation" data-token-index="6">}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="5caa5bd5-017a-4959-a94a-85bff2bab1eb" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ในโค้ดด้านบน</div></div><div data-block-id="94c3996d-603f-47b3-8215-eda6d19cc797" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(251, 236, 221, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีส้ม</span> ตรวจสอบว่า Token ถูกต้องและยังไม่หมดอายุหรือไม่</div></div></div></div></div><div data-block-id="edac6135-777d-4780-8591-50b3d3550a52" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(231, 243, 248, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีฟ้า</span> ระบุว่าถ้า Token ไม่ผ่านเงื่อนไข ก็ให้ส่ง Response กลับไปว่า Token ที่ส่งเข้ามานั้น Invalid</div></div></div></div></div><div data-block-id="26514875-9474-42db-8938-0df5620efbd4" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;▪&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="background:rgba(251, 243, 219, 1)" data-token-index="0" class="notion-enable-hover">ส่วนที่ Highlight สีเหลือง</span> นำข้อมูลผู้ใช้ที่แนบมากับ Token ใส่ลงไปใน Property <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">user</span> ของ Object <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="4" spellcheck="false" class="notion-enable-hover">req</span> เพื่อที่จะนำไปใช้ต่อใน Controller Function ได้</div></div></div></div></div></div></div></div></div></div></div><div data-block-id="880ec8ee-5b73-427d-b96d-770262fd8e42" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้นให้เรานำ Middleware <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">protect</span> นี้ไปป้อนใส่ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">postRouter</span> ในส่วนที่ <span style="background:rgba(251, 236, 221, 1)" data-token-index="5" class="notion-enable-hover">Highlight สีส้ม</span> ด้านล่าง</div></div><div data-block-id="0c039717-3871-4d1c-aace-f653a8f2d882" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดชุดนี้อยู่ในไฟล์ server/apps/posts.js</span><span class="" data-token-index="0">
</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">import</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> protect </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">from</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"../middlewares/protect.js"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" data-token-index="2">

</span><span class="token keyword" data-token-index="2">const</span><span class="" data-token-index="2"> postRouter </span><span class="token operator" data-token-index="2">=</span><span class="" data-token-index="2"> </span><span class="token function" data-token-index="2">Router</span><span class="token punctuation" data-token-index="2">(</span><span class="token punctuation" data-token-index="2">)</span><span class="token punctuation" data-token-index="2">;</span><span class="" data-token-index="2">

</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">postRouter</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">.</span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">use</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3">protect</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="b8507b62-bd5a-422b-b62e-e31178bb935e" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">แล้วให้ลองสร้าง Request เข้ามาที่ API ที่อยู่ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">postRouter</span> เช่น <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">GET /posts</span></div></div><div data-block-id="2c68819b-b14f-49cb-98c0-a1c184606c8c" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราควรจะเห็น Response ออกมาพร้อม <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">message</span> ว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">"Token has invalid format"</span> เนื่องจากว่าเราไม่ได้แนบ Token เข้าไปกับ Request ด้วย</div></div></div></div></div><div data-block-id="d30dcc0f-cfcd-49e9-acdc-49b9d3249751" class="notion-selectable notion-image-block" style="width: 100%; max-width: 100%; align-self: flex-start; margin-top: 4px; margin-bottom: 0px;"><div contenteditable="false" data-content-editable-void="true"><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div><div style="height: 100%; width: 100%;"><img src="./JSON Web Token (JWT)_files/Screen_Shot_2022-04-14_at_17.11.42.png" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 1px; pointer-events: auto; width: 100%;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="25cf5ab4-b4d7-493c-89d1-d312899a25c6" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ดังนั้น ให้เราไปเรียกใช้ Login API แล้ว Copy ตัว Token ที่ได้มาใน Response มาใส่ใน Header ใน Authorization Tab ตรงตัวเลข 1 ในรูปด้านล่าง และในช่อง Input Token ที่เลข 2 ในรูปด้านล่าง</div></div><div data-block-id="2c9fd9d2-7d30-4992-8c38-7156e8a09d52" class="notion-selectable notion-image-block" style="width: 100%; max-width: 100%; align-self: flex-start; margin-top: 4px; margin-bottom: 0px;"><div contenteditable="false" data-content-editable-void="true"><div style="display: flex;"><div class="notion-cursor-default" style="position: relative; overflow: hidden; flex-grow: 1;"><div style="position: relative;"><div><div style="height: 100%; width: 100%;"><img src="./JSON Web Token (JWT)_files/Screen_Shot_2022-04-14_at_17.28.30.png" referrerpolicy="same-origin" style="display: block; object-fit: cover; border-radius: 1px; pointer-events: auto; width: 100%;"></div></div></div></div></div></div></div></div></div></div><div data-block-id="d681a88f-90ff-49c0-9288-2855e24ec7ef" class="notion-selectable notion-sub_sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 3" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.25em; line-height: 1.3;">Logging User out of Website</div></div></div><div data-block-id="b5ab84c9-7e79-4be1-806d-624379987638" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">สุดท้าย หลังจากเราจัดตั้งระบบ Authentication ให้ผู้ใช้งาน Login เข้าเว็บไซต์ได้แล้ว ก็ควรสร้างปุ่ม Logout เพื่อให้ผู้ใช้งานออกจากระบบได้</div></div></div></div></div><div data-block-id="06b982ee-6e9c-4942-9580-33aa4cbfa545" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ฟีเจอร์ Logout นี้ สามารถสร้างเฉพาะในฝั่ง Front End อย่างเดียวก็ได้</div></div><div data-block-id="98f80404-6906-4ab3-9a32-eb395f76eba6" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">เราสามารถสร้างได้โดยแก้ไข Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">logout</span> ที่อยู่ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">AuthContext</span></div></div></div></div></div><div data-block-id="b7707f58-a8ad-4ac2-943b-6dd4a0f27faa" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">logout</span> จะต้องลบ Token ออกจาก Local Storage ด้วย Built-in Function จาก Web Browser ที่ชื่อว่า <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">localStorage.removeItem</span></div></div></div></div></div><div data-block-id="d8540cf2-7edf-4364-b2e0-ceb605bdc261" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/contexts/authentication.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token function-variable function" data-token-index="0">logout</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	localStorage</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">removeItem</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"token"</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="ea3052ec-1cb3-460d-8e56-89fb6c02fa4d" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">ถัดมาให้ Set State <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">user</span> ใน AuthContext ให้เป็น <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">null</span></div></div><div data-block-id="f41acd6b-0e3d-4a4b-8200-258155a775a2" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/contexts/authentication.js</span><span class="" data-token-index="0">
</span><span class="token keyword" data-token-index="0">const</span><span class="" data-token-index="0"> </span><span class="token function-variable function" data-token-index="0">logout</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">=&gt;</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0">
	localStorage</span><span class="token punctuation" data-token-index="0">.</span><span class="token function" data-token-index="0">removeItem</span><span class="token punctuation" data-token-index="0">(</span><span class="token string" data-token-index="0">"token"</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
	</span><span class="token function" data-token-index="0">setState</span><span class="token punctuation" data-token-index="0">(</span><span class="token punctuation" data-token-index="0">{</span><span class="" data-token-index="0"> </span><span class="token operator" data-token-index="0">...</span><span class="" data-token-index="0">state</span><span class="token punctuation" data-token-index="0">,</span><span class="" data-token-index="0"> </span><span class="token literal-property property" data-token-index="0">user</span><span class="token operator" data-token-index="0">:</span><span class="" data-token-index="0"> </span><span class="token keyword" data-token-index="0">null</span><span class="" data-token-index="0"> </span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">)</span><span class="" data-token-index="0">
</span><span class="token punctuation" data-token-index="0">}</span><span class="token punctuation" data-token-index="0">;</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="b9a44fc9-012e-457a-954a-527b88e37f6e" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">จากนั้นเราจะนำ Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">logout</span> ไปใส่ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">onClick</span> ของปุ่มใน Component HomePage  ด้วยการ Import มแบบนี้</div></div><div data-block-id="abe8af6c-c110-4f2a-bddc-261af50b63d6" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;"><span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="0" spellcheck="false" class="notion-enable-hover">logout</span> จะอยู่ใน <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="2" spellcheck="false" class="notion-enable-hover">useAuth</span> ดังนั้นเราจะต้อง Import <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="4" spellcheck="false" class="notion-enable-hover">useAuth</span> มาจาก <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="6" spellcheck="false" class="notion-enable-hover">contexts/authentication.js</span> ก่อน</div></div></div></div></div><div data-block-id="d6fd5c7f-a7f0-4fce-a96f-957e7e1412f7" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">หลังจากนั้น ให้นำ Function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">login</span> ไปใช้ใน Handler Function ของ <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">onClick</span> ตามในส่วนที่ <span style="background:rgba(251, 236, 221, 1)" data-token-index="5" class="notion-enable-hover">Highlight สีส้มด้านล่าง</span></div></div></div></div></div><div data-block-id="63fb7b59-dcdd-43ca-bcc5-25f37e182246" class="notion-selectable notion-code-block" style="width: 100%; max-width: 100%; margin-top: 4px; margin-bottom: 0px;"><div style="display: flex;"><div contenteditable="false" data-content-editable-void="true" style="flex-grow: 1; border-radius: 3px; text-align: left; position: relative; background: rgb(247, 246, 243); min-width: 0px; width: 100%;"><div><div class="line-numbers notion-code-block" style="display: flex;"><div spellcheck="false" autocorrect="off" autocapitalize="off" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="flex-grow: 1; flex-shrink: 1; text-align: left; font-family: SFMono-Regular, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace; font-size: 85%; tab-size: 2; padding: 34px 16px 32px 32px; min-height: 1em; color: rgb(55, 53, 47); white-space: pre-wrap; word-break: break-all; min-width: 0px;"><span class="token comment" data-token-index="0">// โค้ดนี้อยู่ในไฟล์ client/src/pages/HomePage.js</span><span class="" data-token-index="0">
</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">import</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> useAuth </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="1">from</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="1"> </span><span class="token string" style="background:rgba(251, 236, 221, 1)" data-token-index="1">"../contexts/authentication"</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="1">;</span><span class="" data-token-index="2">

</span><span class="token keyword" data-token-index="2">function</span><span class="" data-token-index="2"> </span><span class="token function" data-token-index="2">HomePage</span><span class="token punctuation" data-token-index="2">(</span><span class="token punctuation" data-token-index="2">)</span><span class="" data-token-index="2"> </span><span class="token punctuation" data-token-index="2">{</span><span class="" data-token-index="2">
	
	</span><span class="token keyword" style="background:rgba(251, 236, 221, 1)" data-token-index="3">const</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">{</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> logout </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">}</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="3">=</span><span class="" style="background:rgba(251, 236, 221, 1)" data-token-index="3"> </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="3">useAuth</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="3">;</span><span class="" data-token-index="4">

  </span><span class="token keyword" data-token-index="4">return</span><span class="" data-token-index="4"> </span><span class="token punctuation" data-token-index="4">(</span><span class="" data-token-index="4">
    </span><span class="token punctuation" data-token-index="4">&lt;</span><span class="token tag" data-token-index="4">div</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
      </span><span class="token punctuation" data-token-index="4">&lt;</span><span class="token tag" data-token-index="4">div</span><span class="token tag" data-token-index="4"> </span><span class="token attr-name" data-token-index="4">className</span><span class="token punctuation attr-equals" data-token-index="4">=</span><span class="token punctuation" data-token-index="4">"</span><span class="token attr-value" data-token-index="4">app-wrapper</span><span class="token punctuation" data-token-index="4">"</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
        </span><span class="token punctuation" data-token-index="4">&lt;</span><span class="token tag" data-token-index="4">h1</span><span class="token tag" data-token-index="4"> </span><span class="token attr-name" data-token-index="4">className</span><span class="token punctuation attr-equals" data-token-index="4">=</span><span class="token punctuation" data-token-index="4">"</span><span class="token attr-value" data-token-index="4">app-title</span><span class="token punctuation" data-token-index="4">"</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">Blog Post App</span><span class="token punctuation" data-token-index="4">&lt;/</span><span class="token tag" data-token-index="4">h1</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
        </span><span class="token punctuation" data-token-index="4">&lt;</span><span class="token tag" data-token-index="4">button</span><span class="token tag" data-token-index="4">
          </span><span class="token attr-name" data-token-index="4">onClick</span><span class="token script-punctuation punctuation" data-token-index="4">=</span><span class="token punctuation" data-token-index="4">{</span><span class="token punctuation" data-token-index="4">(</span><span class="token punctuation" data-token-index="4">)</span><span class="token script language-javascript" data-token-index="4"> </span><span class="token operator" data-token-index="4">=&gt;</span><span class="token script language-javascript" data-token-index="4"> </span><span class="token punctuation" data-token-index="4">{</span><span class="token script language-javascript" data-token-index="4">
            </span><span class="token function" data-token-index="4">navigate</span><span class="token punctuation" data-token-index="4">(</span><span class="token string" data-token-index="4">"/post/create"</span><span class="token punctuation" data-token-index="4">)</span><span class="token punctuation" data-token-index="4">;</span><span class="token script language-javascript" data-token-index="4">
          </span><span class="token punctuation" data-token-index="4">}</span><span class="token punctuation" data-token-index="4">}</span><span class="token tag" data-token-index="4">
        </span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
          Create Post
        </span><span class="token punctuation" data-token-index="4">&lt;/</span><span class="token tag" data-token-index="4">button</span><span class="token punctuation" data-token-index="4">&gt;</span><span class="token plain-text" data-token-index="4">
        </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">&lt;</span><span class="token tag" style="background:rgba(251, 236, 221, 1)" data-token-index="5">button</span><span class="token tag" style="background:rgba(251, 236, 221, 1)" data-token-index="5">
          </span><span class="token attr-name" style="background:rgba(251, 236, 221, 1)" data-token-index="5">onClick</span><span class="token script-punctuation punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">=</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">{</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">)</span><span class="token script language-javascript" style="background:rgba(251, 236, 221, 1)" data-token-index="5"> </span><span class="token operator" style="background:rgba(251, 236, 221, 1)" data-token-index="5">=&gt;</span><span class="token script language-javascript" style="background:rgba(251, 236, 221, 1)" data-token-index="5"> </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">{</span><span class="token script language-javascript" style="background:rgba(251, 236, 221, 1)" data-token-index="5">
            </span><span class="token function" style="background:rgba(251, 236, 221, 1)" data-token-index="5">logout</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">(</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">)</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">;</span><span class="token script language-javascript" style="background:rgba(251, 236, 221, 1)" data-token-index="5">
          </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">}</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">}</span><span class="token tag" style="background:rgba(251, 236, 221, 1)" data-token-index="5">
        </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">&gt;</span><span class="token plain-text" style="background:rgba(251, 236, 221, 1)" data-token-index="5">
          Logout
        </span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">&lt;/</span><span class="token tag" style="background:rgba(251, 236, 221, 1)" data-token-index="5">button</span><span class="token punctuation" style="background:rgba(251, 236, 221, 1)" data-token-index="5">&gt;</span><span class="token plain-text" data-token-index="6">
</span><span class="token plain-text" style="color:rgba(120, 119, 116, 1);fill:rgba(120, 119, 116, 1)" data-token-index="7">	)
}</span><span>
</span></div></div></div><div style="position: absolute; top: 3px; right: 1px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; height: 25px; font-size: 11.5px; opacity: 0; transition: opacity 300ms ease-in 0s;"></div><div style="position: absolute; top: 8px; left: 8px; color: rgba(55, 53, 47, 0.65); display: flex; align-items: center; justify-content: flex-end; opacity: 0; transition: opacity 300ms ease-in 0s;"><div class="notion-focusable" role="button" aria-disabled="true" tabindex="-1" style="user-select: none; transition: background 20ms ease-in 0s; display: inline-flex; align-items: center; white-space: nowrap; height: 20px; border-radius: 3px; font-size: 12px; line-height: 1.2; padding-left: 5px; padding-right: 5px; color: rgba(55, 53, 47, 0.65); margin-right: 5px;">JavaScript<svg viewBox="0 0 30 30" class="chevronDown" style="width: 10px; height: 100%; display: block; fill: rgba(55, 53, 47, 0.35); flex-shrink: 0; backface-visibility: hidden; margin-left: 4px;"><polygon points="15,17.4 4.8,7 2,9.8 15,23 28,9.8 25.2,7 "></polygon></svg></div></div><div style="background: white; padding-right: 105px;"></div></div></div></div></div></div></div><div data-block-id="8fe304ec-c1ed-4f6f-9719-114f443861f2" class="notion-selectable notion-sub_header-block" style="width: 100%; max-width: 484px; margin-top: 1.4em; margin-bottom: 1px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div spellcheck="true" placeholder="Heading 2" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, &quot;Segoe UI&quot;, Helvetica, &quot;Apple Color Emoji&quot;, Arial, sans-serif, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;; font-weight: 600; font-size: 1.5em; line-height: 1.3;">Recap</div></div></div><div data-block-id="e2ebd513-a2db-4e78-81a2-66e49b44fac9" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Passwords should always be stored in an encrypted form.</div></div></div></div></div><div data-block-id="95665024-de23-489d-9af3-14c1b0ee54d7" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">We can encrypt passwords by:</div></div><div data-block-id="f93bdf6f-6c1a-4226-8f65-6b25023e1941" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Generating a salt, which is a random string</div></div></div></div></div><div data-block-id="e8e64b68-3363-49c3-9929-29764e41b05b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Then using the <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">bcrypt</span> package, which uses this salt to encrypt the password.</div></div></div></div></div></div></div></div><div data-block-id="0dcdbd0e-c2e3-425e-8a26-83ec66ea5955" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">We can validate encrypted passwords using <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">bcrypt.compare</span>.</div></div></div></div></div><div data-block-id="dcbbc6bd-4c57-41a3-acee-6b03d539782b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">JSON Web Tokens (JWTs) can be created with <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jwt.sign</span>.</div></div></div></div></div><div data-block-id="634f8f17-5ef4-40f1-96d1-e1ada6c390fd" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">A secret key is a long string used to generate tokens. This secret key is very important and is used to decrypt passwords, and should not be shared outside the system.</div></div></div></div></div><div data-block-id="627e1599-c5f0-4f48-8689-bfe6f72816ef" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">JWTs can be verified with <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jwt.verify</span>.</div></div></div></div></div><div data-block-id="bce22e13-d973-488f-a82f-054c5d128040" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">JWTs can be attached to a request header in the format <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">Bearer &lt;JWT_Token&gt;</span>.</div></div></div></div></div><div data-block-id="4f06c231-20ee-4dd8-908e-36d620388582" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Tokens can be saved in local storage with the built-in function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">localStorage.setItem</span>.</div></div></div></div></div><div data-block-id="518c58dc-e6d3-4cef-8536-e65446ec1db7" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Information from the token can be accessed using the package <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">jwt-decode</span>.</div></div></div></div></div><div data-block-id="dd2f0734-e60f-44cb-83ed-51e23641f422" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">For security reasons, we should save secret keys in environment variables.</div></div><div data-block-id="b11c536d-cf03-420b-8758-9d8266dd811a" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">An environment variable is a variable that is declared outside the program. It can later be imported to use inside the program. Environment variables can be managed using the package <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">dotenv</span>.</div></div></div></div></div><div data-block-id="331384b6-d95b-47d6-9182-eee764ed8e5b" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">When declaring environment variables to store secret keys, we can store these variables in the file <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">.env</span>.</div></div></div></div></div><div data-block-id="ddf6f029-7e53-4f6e-80c2-bcbcb4381f6e" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Environment variables can be access through the object <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">process.env</span>.</div></div></div></div></div></div></div></div><div data-block-id="350a1859-2358-471f-8513-6599b87cac06" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Axios interceptors are functions that are executed every time a request is created or a response is received.</div></div><div data-block-id="87e4bcc8-9a3a-47a8-a0f2-5847c7f8f32c" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Functions that should be executed every time a request is created can be specified using <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">axios.interceptors.request.use</span>.</div></div></div></div></div><div data-block-id="15a2caa2-d9a3-4185-8b32-0c30d82e04b9" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Functions that should be executed every time a response is received can be specified using <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">axios.interceptors.response.use</span>.</div></div></div></div></div></div></div></div><div data-block-id="72dc3961-3ee9-4182-98a1-c1ad73769cfc" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;•&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Users can be logged out of the system by</div></div><div data-block-id="5aee80fc-0a8b-427e-bcda-17d6b7d4adc6" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 2px; margin-bottom: 1px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">Removing the token from their local storage using the built-in function <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">localStorage.removeItem</span></div></div></div></div></div><div data-block-id="72c8ab9d-f450-42cb-80bf-1ebf54c138d9" class="notion-selectable notion-bulleted_list-block" style="width: 100%; max-width: 100%; margin-top: 1px; margin-bottom: 0px;"><div style="display: flex; align-items: flex-start; width: 100%; padding-left: 2px; color: inherit; fill: inherit;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="start" style="user-select: none; --pseudoSelection--background:transparent; margin-right: 2px; width: 24px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div class="pseudoBefore" style="font-size: 1.5em; line-height: 1; margin-bottom: 0px; --pseudoBefore--fontFamily:Arial; --pseudoBefore--content:&quot;◦&quot;;"></div></div><div style="flex: 1 1 0px; min-width: 1px; display: flex; flex-direction: column;"><div style="display: flex;"><div spellcheck="true" placeholder="List" data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; text-align: left;">And setting the <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="1" spellcheck="false" class="notion-enable-hover">user</span> state in <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="3" spellcheck="false" class="notion-enable-hover">AuthContext</span> to <span style="font-family:&quot;SFMono-Regular&quot;, Menlo, Consolas, &quot;PT Mono&quot;, &quot;Liberation Mono&quot;, Courier, monospace;line-height:normal;background:rgba(135,131,120,0.15);color:#EB5757;border-radius:3px;font-size:85%;padding:0.2em 0.4em" data-token-index="5" spellcheck="false" class="notion-enable-hover">null</span>.</div></div></div></div></div></div></div></div><div data-block-id="83dcb3f2-b6fb-4b58-bcb8-96390a772331" class="notion-selectable notion-text-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div spellcheck="true" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.5);"></div></div></div></div><div data-block-id="adbfe8b3-8432-4044-be68-7160378fe51e" class="notion-selectable notion-divider-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div class="notion-cursor-default" style="display: flex; align-items: center; justify-content: center; pointer-events: auto; width: 100%; height: 13px; flex: 0 0 auto; color: rgba(55, 53, 47, 0.16);"><div style="width: 100%; height: 1px; visibility: visible; border-bottom: 1px solid rgba(55, 53, 47, 0.16);"></div></div></div><div data-block-id="89b9dd6e-f811-46ab-8409-94bb7abff8fa" class="notion-selectable notion-text-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div spellcheck="true" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.5);"></div></div></div></div><div data-block-id="ff25de4a-6abf-478d-be79-31c1f1b4b9f8" class="notion-selectable notion-page-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" style="user-select: none; --pseudoSelection--background:transparent;"><a href="https://techup.notion.site/Hack-Hours-ff25de4a6abf478dbe7931c1f1b4b9f8" rel="noopener noreferrer" style="display: block; color: inherit; text-decoration: none; background: rgb(231, 243, 248);"><div class="notion-focusable" role="button" tabindex="0" style="user-select: none; transition: background 20ms ease-in 0s; cursor: pointer; width: 100%;"><div style="display: flex; align-items: center; width: 100%;"><div style="flex: 1 1 0px; min-width: 1px; padding-top: 3px; padding-bottom: 3px; padding-left: 2px;"><div style="display: flex; align-items: center;"><div style="position: relative; width: 24px; height: 24px; margin-right: 4px;"><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 100%; width: 100%; border-radius: 0.25em; flex-shrink: 0;"><div style="display: flex; align-items: center; justify-content: center; height: 22px; width: 22px;"><div style="height: 19.8px; width: 19.8px; font-size: 19.8px; line-height: 1; margin-left: 0px; color: black;"><span role="img" aria-label="⛷️" style="font-family: &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, NotoColorEmoji, &quot;Noto Color Emoji&quot;, &quot;Segoe UI Symbol&quot;, &quot;Android Emoji&quot;, EmojiSymbols; line-height: 1em; white-space: nowrap;">⛷️</span></div></div></div></div><div class="notranslate" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-weight: 500; line-height: 1.3; border-bottom: 1px solid rgba(55, 53, 47, 0.16);">Hack Hours</div></div></div><div contenteditable="false" class="pseudoSelection" data-content-editable-void="true" data-text-edit-side="end" style="user-select: none; --pseudoSelection--background:transparent; margin-left: 4px; display: flex; align-items: center; justify-content: center; flex-grow: 0; flex-shrink: 0; min-height: calc(1.5em + 3px + 3px);"><div style="width: 28px;"></div></div></div></div></a></div></div><div data-block-id="28ed03bc-437a-472a-8615-a71f488673ca" class="notion-selectable notion-text-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div spellcheck="true" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; min-height: 1em; color: rgb(55, 53, 47); -webkit-text-fill-color: rgba(55, 53, 47, 0.5);"></div></div></div></div><div data-block-id="4a2cdf9d-5615-46c8-87df-2224936e6744" class="notion-selectable notion-text-block" style="width: 100%; max-width: 484px; margin-top: 1px; margin-bottom: 0px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div spellcheck="true" placeholder=" " data-content-editable-leaf="true" contenteditable="false" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;"><span role="img" aria-label="©" style="font-family:&quot;Apple Color Emoji&quot;,&quot;Segoe UI Emoji&quot;,NotoColorEmoji,&quot;Noto Color Emoji&quot;,&quot;Segoe UI Symbol&quot;,&quot;Android Emoji&quot;,EmojiSymbols;line-height:1em;white-space:nowrap;font-size:1em">©</span> 2021 TechUp Training Company Limited. All rights reserved.</div></div></div></div></div></div><div contenteditable="false" data-content-editable-void="true" style="width: 0px;"><div style="display: none; flex-shrink: 0; pointer-events: none; width: 0px; position: absolute; right: -18px; opacity: 0;"><div style="display: flex; flex-direction: column; padding: 5px 16px; width: 340px; flex-shrink: 0; height: 100%; position: relative; pointer-events: none; z-index: 1;"><div style="position: absolute; pointer-events: none; width: 100%; height: 100%; top: -5px; background: linear-gradient(white 0px, rgba(255, 255, 255, 0) 15px);"></div></div></div></div></main><span style="height: 1px; width: 1px;"></span></div><div class="notion-presence-container" style="position: absolute; top: 0px; left: 0px; z-index: 89;"><div></div></div></div></div></div><div class="notion-peek-renderer" style="position: fixed; top: 0px; right: 0px; bottom: 0px; width: 430px; z-index: 109; transform: translateX(430px) translateZ(0px);"></div></div></div><div class="notion-overlay-container notion-default-overlay-container" style="position: fixed; inset: 0px; z-index: 999; pointer-events: none; overflow: hidden;"><div style="position: relative; z-index: 0;"></div></div><div class="notion-overlay-container" style="position: fixed; inset: 0px; z-index: 1001; pointer-events: none; overflow: hidden;"><div style="position: relative; z-index: 0;"></div></div></div></div><script>window.CONFIG={env:"production",isAdminMode:!1,isLocalhost:!1,offline:!0,version:"23.10.26.70",domainBaseUrl:"https://www.notion.so",adminUrl:"https://admin.notion.so",publicDomainName:"notion.site",protocol:"notion",staticS3:{url:"https://prod-notion-assets.s3-us-west-2.amazonaws.com",bucket:"prod-notion-assets"},lastUpdatedTime:1667437659520,api:{http:"/api/v3"},googleOAuth:{clientId:"905154081809-858sm3f0qnalqd9d44d9gecjtrdji9tf.apps.googleusercontent.com"},messageStore:{url:"https://msgstore.www.notion.so",api:"/api/v1"},stripe:{key:"pk_live_vuNO27XGTCbXjVwneiECILjT"},revenueCat:{apiResponseMaxAge:6048e5,entitlementIDs:{personal:"notion.id.personal_pro"},productIDs:{personal:{monthly:"notion.id.personal_pro_monthly",yearly:"notion.id.personal_pro_yearly"}}},intercom:{appId:"gpfdrxfd",adminId:"3483686"},mutiny:{personalKey:"1149e901f65fc47c"},partnerStack:{apiKey:"pk_6nwYfqCKEoPt2lTuU8Veswm2zArJ3Apq"},segment:{writeKey:"g1mMn2qquRcv7exBIVDivoKl9cOrdxLA"},amplitude:{apiKey:"af43d4b535912f7751949bfb061d8659"},pricing:{invoiceDaysUntilDue:30,team_free:{spaceBlockLimit:1e3,fileUploadMaxBytes:5e6},personal_free:{fileUploadMaxBytes:5e6},student:{productId:"prod_FhChFoDp7gS1Ba"},personal:{productId:"prod_CpavZFCbxF2YGx",monthlyPrice:500,yearlyPrice:4800},team:{productId:"prod_CpawK4ih14xs4t",monthlyPricePerMember:1e3,yearlyPricePerMember:9600},business:{productId:"prod_LEnFERYcTgENz8",monthlyPricePerMember:1800,yearlyPricePerMember:18e3},enterprise:{productId:"prod_Cpb8M1AFEFhdy1",monthlyPricePerMember:2500,yearlyPricePerMember:24e3}},desktopS3:{url:"https://s3-us-west-2.amazonaws.com/desktop-release.notion-static.com"},publicFileS3:{url:"https://s3-us-west-2.amazonaws.com/public.notion-static.com",bucket:"public.notion-static.com"},temporaryFileS3:{url:"https://s3-us-west-2.amazonaws.com/temporary.notion-static.com",bucket:"temporary.notion-static.com"},secureFileS3:{url:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com",bucket:"secure.notion-static.com"},secureFileConfig:{origins:{s:"secure.notion-static.com"},s3BaseDomainName:"s3.us-west-2.amazonaws.com",rootPath:"/f",protocol:"https",hostname:"file.notion.so"},loggly:{token:"9b01b08e-c969-4e27-837c-805d1fc6ec7b"},splunk:{token:"EA76605A-F565-4B17-A496-34435622A1EB"},embedly:{key:"421626497c5d4fc2ae6b075189d602a2"},aif:{url:"https://aif.notion.so/aif-production.html"},contentful:{spaceId:"spoqsaf9291f",contentDeliveryToken:"AGqteRpWD8aE_kxy_s7_hSFAlKCh5qf-RctSU6vV6u0",contentPreviewToken:"uR2ZVAs-9TMKDq0YKYVtczFplx6P9p06huCibZDJZKA"},iOSAppId:1232780281,facebook:{pixelId:"499229960464487"},statsig:{apiKey:"client-Tgza5wNFa8dVt9BdeUfG6Vkm29bHxX10MhoztTMzLBB"},googleReCaptcha:{siteKey:"6LcvqigfAAAAAPaPL3j2YLldFcZVGwKvG9TmjDgK"},google:{clientId:"905154081809-858sm3f0qnalqd9d44d9gecjtrdji9tf.apps.googleusercontent.com"}}</script><textarea aria-hidden="true" style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;"></textarea><textarea aria-hidden="true" style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;"></textarea><div style="width: env(safe-area-inset-bottom);"></div><iframe sandbox="allow-scripts allow-same-origin" style="position: absolute; opacity: 0; width: 1px; height: 1px; top: 0; left: 0; border: none; display: block; z-index: -1;" aria-hidden="true" tabindex="-1" referrerpolicy="no-referrer" src="./JSON Web Token (JWT)_files/aif-production.html"></iframe><iframe id="intercom-frame" style="position: absolute !important; opacity: 0 !important; width: 1px !important; height: 1px !important; top: 0 !important; left: 0 !important; border: none !important; display: block !important; z-index: -1 !important; pointer-events: none;" aria-hidden="true" tabindex="-1" title="Intercom" src="./JSON Web Token (JWT)_files/saved_resource.html"></iframe><div class="intercom-lightweight-app"><style id="intercom-lightweight-app-style" type="text/css">
  @keyframes intercom-lightweight-app-launcher {
    from {
      opacity: 0;
      transform: scale(0.5);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes intercom-lightweight-app-gradient {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes intercom-lightweight-app-messenger {
    
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
        
  }

  .intercom-lightweight-app {
    position: fixed;
    z-index: 2147483001;
    width: 0;
    height: 0;
    font-family: intercom-font, "Helvetica Neue", "Apple Color Emoji", Helvetica, Arial, sans-serif;
  }

  .intercom-lightweight-app-gradient {
    position: fixed;
    z-index: 2147483002;
    width: 500px;
    height: 500px;
    bottom: 0;
    right: 0;
    pointer-events: none;
    background: radial-gradient(
      ellipse at bottom right,
      rgba(29, 39, 54, 0.16) 0%,
      rgba(29, 39, 54, 0) 72%);
    animation: intercom-lightweight-app-gradient 200ms ease-out;
  }

  .intercom-lightweight-app-launcher {
    position: fixed;
    z-index: 2147483003;
    padding: 0 !important;
    margin: 0 !important;
    border: none;
    bottom: 20px;
    right: 20px;
    max-width: 60px;
    width: 60px;
    max-height: 60px;
    height: 60px;
    border-radius: 50%;
    background: #546270;
    cursor: pointer;
    box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16);
    transition: transform 167ms cubic-bezier(0.33, 0.00, 0.00, 1.00);
    box-sizing: content-box;
  }

  


  .intercom-lightweight-app-launcher:focus {
    outline: none;

    
  }

  .intercom-lightweight-app-launcher-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    left: 0;
    width: 60px;
    height: 60px;
    transition: transform 100ms linear, opacity 80ms linear;
  }

  .intercom-lightweight-app-launcher-icon-open {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-open svg {
    width: 28px;
    height: 32px;
  }

  .intercom-lightweight-app-launcher-icon-open svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-icon-self-serve {
    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg {
    height: 56px;
  }

  .intercom-lightweight-app-launcher-icon-self-serve svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-launcher-custom-icon-open {
    max-height: 36px;
    max-width: 36px;

    
        opacity: 1;
        transform: rotate(0deg) scale(1);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize {
    
        opacity: 0;
        transform: rotate(-60deg) scale(0);
      
  }

  .intercom-lightweight-app-launcher-icon-minimize svg path {
    fill: rgb(255, 255, 255);
  }

  .intercom-lightweight-app-messenger {
    position: fixed;
    z-index: 2147483003;
    overflow: hidden;
    background-color: white;
    animation: intercom-lightweight-app-messenger 250ms cubic-bezier(0, 1.2, 1, 1);
    transform-origin: bottom right;
    
        width: 376px;
        height: calc(100% - 40px);
        max-height: 704px;
        min-height: 250px;
        right: 20px;
        bottom: 20px;
        box-shadow: 0 5px 40px rgba(0,0,0,0.16);
      
    border-radius: 8px;
  }

  .intercom-lightweight-app-messenger-header {
    height: 75px;
    background: linear-gradient(
          135deg,
          rgb(0, 172, 193) 0%,
          rgb(0, 81, 91) 100%
        );
  }

  .intercom-lightweight-app-messenger-footer{
    position:absolute;
    bottom:0;
    width: 100%;
    min-height: 81px;
    background: #fff;
    font-size: 14px;
    line-height: 21px;
    border-top: 1px solid rgba(0, 0, 0, 0.05);
    box-shadow: 0px 0px 25px rgba(0, 0, 0, 0.05);
  }

  @media print {
    .intercom-lightweight-app {
      display: none;
    }
  }
</style></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>